import{W as je,c as d,h as i,X as _,b as e,e as R,Y as O,Z as C,F as S,g as j,s as w,_ as se,z as P,$ as H,w as de,q as Y,j as v,y as W,i as b,t as c,T as Ve,a0 as oe,a1 as Ke,r as f,l as q,B as $e,o as Pe,a as $,a2 as Me,v as L,U as ae,C as z,p as G}from"./index-Cv3Gfbck.js";import{_ as Be}from"./AdminLayout-DzmIWmFz.js";var Le=Object.defineProperty,Te=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,ne=(t,a,l)=>a in t?Le(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,A=(t,a)=>{for(var l in a||(a={}))De.call(a,l)&&ne(t,l,a[l]);if(le)for(var l of le(a))Fe.call(a,l)&&ne(t,l,a[l]);return t},ie=(t,a)=>Te(t,Ae(a));const Ie={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(t){this.autoscroll&&t&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var t;const a=((t=this.$refs.dropdownMenu)==null?void 0:t.children[this.typeAheadPointer])||!1;if(a){const l=this.getDropdownViewport(),{top:m,bottom:h,height:r}=a.getBoundingClientRect();if(m<l.top)return this.$refs.dropdownMenu.scrollTop=a.offsetTop;if(h>l.bottom)return this.$refs.dropdownMenu.scrollTop=a.offsetTop-(l.height-r)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},Ue={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open(t){t&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown(){for(let t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect(){const t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},Ee={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(t){this.mutableLoading=t}},methods:{toggleLoading(t=null){return t==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=t}}},X=(t,a)=>{const l=t.__vccOpts||t;for(const[m,h]of a)l[m]=h;return l},Ne={},ze={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},Re=e("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),He=[Re];function qe(t,a){return i(),d("svg",ze,He)}const Ge=X(Ne,[["render",qe]]),Je={},Ye={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},We=e("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),Xe=[We];function Qe(t,a){return i(),d("svg",Ye,Xe)}const Ze=X(Je,[["render",Qe]]),re={Deselect:Ge,OpenIndicator:Ze},et={mounted(t,{instance:a}){if(a.appendToBody){const{height:l,top:m,left:h,width:r}=a.$refs.toggle.getBoundingClientRect();let V=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=a.calculatePosition(t,a,{width:r+"px",left:V+h+"px",top:u+m+l+"px"}),document.body.appendChild(t)}},unmounted(t,{instance:a}){a.appendToBody&&(t.unbindPosition&&typeof t.unbindPosition=="function"&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};function tt(t){const a={};return Object.keys(t).sort().forEach(l=>{a[l]=t[l]}),JSON.stringify(a)}let st=0;function ot(){return++st}const at={components:A({},re),directives:{appendToBody:et},mixins:[Ie,Ue,Ee],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:t=>t},selectable:{type:Function,default:t=>!0},getOptionLabel:{type:Function,default(t){return typeof t=="object"?t.hasOwnProperty(this.label)?t[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(t)}.
https://vue-select.org/api/props.html#getoptionlabel`):t}},getOptionKey:{type:Function,default(t){if(typeof t!="object")return t;try{return t.hasOwnProperty("id")?t.id:tt(t)}catch(a){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,t,a)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(t,a,l){return(a||"").toLocaleLowerCase().indexOf(l.toLocaleLowerCase())>-1}},filter:{type:Function,default(t,a){return t.filter(l=>{let m=this.getOptionLabel(l);return typeof m=="number"&&(m=m.toString()),this.filterBy(l,m,a)})}},createOption:{type:Function,default(t){return typeof this.optionList[0]=="object"?{[this.label]:t}:t}},resetOnOptionsChange:{default:!1,validator:t=>["function","boolean"].includes(typeof t)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:t,multiple:a}){return t&&!a}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(t,a)=>t},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(t,a,{width:l,top:m,left:h}){t.style.top=m,t.style.left=h,t.style.width=l}},dropdownShouldOpen:{type:Function,default({noDrop:t,open:a,mutableLoading:l}){return t?!1:a&&!l}},uid:{type:[String,Number],default:()=>ot()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let t=this.modelValue;return this.isTrackingValues&&(t=this.$data._value),t!=null&&t!==""?[].concat(t):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:A({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:a=>this.search=a.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:ie(A({},t),{deselect:this.deselect}),footer:ie(A({},t),{deselect:this.deselect})}},childComponents(){return A(A({},re),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;const a=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){const l=this.createOption(this.search);this.optionExists(l)||a.unshift(l)}return a},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(t,a){const l=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(t,a,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&l()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple(){this.clearSelection()},open(t){this.$emit(t?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(t){Array.isArray(t)?this.$data._value=t.map(a=>this.findOptionFromReducedValue(a)):this.$data._value=this.findOptionFromReducedValue(t)},select(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&(this.$emit("option:created",t),this.pushTag(t)),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect(t){this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter(a=>!this.optionComparator(a,t))),this.$emit("option:deselected",t)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(t){typeof this.modelValue>"u"&&(this.$data._value=t),t!==null&&(Array.isArray(t)?t=t.map(a=>this.reduce(a)):t=this.reduce(t)),this.$emit("update:modelValue",t)},toggleDropdown(t){const a=t.target!==this.searchEl;a&&t.preventDefault();const l=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||l.filter(Boolean).some(m=>m.contains(t.target)||m===t.target)){t.preventDefault();return}this.open&&a?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(t){return this.selectedValue.some(a=>this.optionComparator(a,t))},isOptionDeselectable(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator(t,a){return this.getOptionKey(t)===this.getOptionKey(a)},findOptionFromReducedValue(t){const a=m=>JSON.stringify(this.reduce(m))===JSON.stringify(t),l=[...this.options,...this.pushedTags].filter(a);return l.length===1?l[0]:l.find(m=>this.optionComparator(m,this.$data._value))||t},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let t=null;this.multiple&&(t=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(t)}},optionExists(t){return this.optionList.some(a=>this.optionComparator(a,t))},normalizeOptionForSlot(t){return typeof t=="object"?t:{[this.label]:t}},pushTag(t){this.pushedTags.push(t)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:t,multiple:a}=this;this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:a})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(t){const a=h=>(h.preventDefault(),!this.isComposing&&this.typeAheadSelect()),l={8:h=>this.maybeDeleteValue(),9:h=>this.onTab(),27:h=>this.onEscape(),38:h=>(h.preventDefault(),this.typeAheadUp()),40:h=>(h.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(h=>l[h]=a);const m=this.mapKeydown(l,this);if(typeof m[t.keyCode]=="function")return m[t.keyCode](t)}}},lt=["dir"],nt=["id","aria-expanded","aria-owns"],it={ref:"selectedOptions",class:"vs__selected-options"},rt=["disabled","title","aria-label","onClick"],dt={ref:"actions",class:"vs__actions"},ut=["disabled"],pt={class:"vs__spinner"},ct=["id"],ht=["id","aria-selected","onMouseover","onClick"],mt={key:0,class:"vs__no-options"},bt=b(" Sorry, no matching options. "),gt=["id"];function ft(t,a,l,m,h,r){const V=je("append-to-body");return i(),d("div",{dir:l.dir,class:W(["v-select",r.stateClasses])},[_(t.$slots,"header",O(C(r.scope.header))),e("div",{id:`vs${l.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":r.dropdownOpen.toString(),"aria-owns":`vs${l.uid}__listbox`,"aria-label":"Search for option",onMousedown:a[1]||(a[1]=u=>r.toggleDropdown(u))},[e("div",it,[(i(!0),d(S,null,j(r.selectedValue,(u,k)=>_(t.$slots,"selected-option-container",{option:r.normalizeOptionForSlot(u),deselect:r.deselect,multiple:l.multiple,disabled:l.disabled},()=>[(i(),d("span",{key:l.getOptionKey(u),class:"vs__selected"},[_(t.$slots,"selected-option",O(C(r.normalizeOptionForSlot(u))),()=>[b(c(l.getOptionLabel(u)),1)]),l.multiple?(i(),d("button",{key:0,ref_for:!0,ref:x=>h.deselectButtons[k]=x,disabled:l.disabled,type:"button",class:"vs__deselect",title:`Deselect ${l.getOptionLabel(u)}`,"aria-label":`Deselect ${l.getOptionLabel(u)}`,onClick:x=>r.deselect(u)},[(i(),P(H(r.childComponents.Deselect)))],8,rt)):v("",!0)]))])),256)),_(t.$slots,"search",O(C(r.scope.search)),()=>[e("input",oe({class:"vs__search"},r.scope.search.attributes,Ke(r.scope.search.events)),null,16)])],512),e("div",dt,[w(e("button",{ref:"clearButton",disabled:l.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:a[0]||(a[0]=(...u)=>r.clearSelection&&r.clearSelection(...u))},[(i(),P(H(r.childComponents.Deselect)))],8,ut),[[se,r.showClearButton]]),_(t.$slots,"open-indicator",O(C(r.scope.openIndicator)),()=>[l.noDrop?v("",!0):(i(),P(H(r.childComponents.OpenIndicator),O(oe({key:0},r.scope.openIndicator.attributes)),null,16))]),_(t.$slots,"spinner",O(C(r.scope.spinner)),()=>[w(e("div",pt,"Loading...",512),[[se,t.mutableLoading]])])],512)],40,nt),R(Ve,{name:l.transition},{default:de(()=>[r.dropdownOpen?w((i(),d("ul",{id:`vs${l.uid}__listbox`,ref:"dropdownMenu",key:`vs${l.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:a[2]||(a[2]=Y((...u)=>r.onMousedown&&r.onMousedown(...u),["prevent"])),onMouseup:a[3]||(a[3]=(...u)=>r.onMouseUp&&r.onMouseUp(...u))},[_(t.$slots,"list-header",O(C(r.scope.listHeader))),(i(!0),d(S,null,j(r.filteredOptions,(u,k)=>(i(),d("li",{id:`vs${l.uid}__option-${k}`,key:l.getOptionKey(u),role:"option",class:W(["vs__dropdown-option",{"vs__dropdown-option--deselect":r.isOptionDeselectable(u)&&k===t.typeAheadPointer,"vs__dropdown-option--selected":r.isOptionSelected(u),"vs__dropdown-option--highlight":k===t.typeAheadPointer,"vs__dropdown-option--disabled":!l.selectable(u)}]),"aria-selected":k===t.typeAheadPointer?!0:null,onMouseover:x=>l.selectable(u)?t.typeAheadPointer=k:null,onClick:Y(x=>l.selectable(u)?r.select(u):null,["prevent","stop"])},[_(t.$slots,"option",O(C(r.normalizeOptionForSlot(u))),()=>[b(c(l.getOptionLabel(u)),1)])],42,ht))),128)),r.filteredOptions.length===0?(i(),d("li",mt,[_(t.$slots,"no-options",O(C(r.scope.noOptions)),()=>[bt])])):v("",!0),_(t.$slots,"list-footer",O(C(r.scope.listFooter)))],40,ct)),[[V]]):(i(),d("ul",{key:1,id:`vs${l.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,gt))]),_:3},8,["name"]),_(t.$slots,"footer",O(C(r.scope.footer)))],10,lt)}const J=X(at,[["render",ft]]),xt={class:"p-6 lg:p-8"},yt={class:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 mb-6"},vt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},wt={class:"md:col-span-2"},kt={class:"relative"},_t=["label"],Ot=["value"],Ct={key:0,class:"flex justify-center py-20"},St={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},jt={class:"overflow-x-auto"},Vt={class:"w-full min-w-[1200px]"},Kt={class:"divide-y divide-gray-100"},$t={class:"px-4 py-4"},Pt={class:"flex items-center"},Mt={class:"w-9 h-9 bg-gradient-to-br from-bpjs-400 to-bpjs-600 rounded-full flex items-center justify-center mr-3 shadow flex-shrink-0"},Bt={class:"text-white font-bold text-sm"},Lt={class:"min-w-0"},Tt={class:"font-medium text-gray-900 truncate"},At={class:"text-xs text-gray-500 font-mono"},Dt={class:"px-4 py-4"},Ft=["title"],It={key:1,class:"text-gray-400 text-sm"},Ut={class:"px-4 py-4"},Et=["title"],Nt={key:1,class:"text-gray-400 text-sm"},zt={class:"px-4 py-4"},Rt=["title"],Ht={key:1,class:"text-gray-400 text-sm"},qt={class:"px-4 py-4"},Gt=["title"],Jt={key:1,class:"text-gray-400 text-sm"},Yt={class:"px-4 py-4"},Wt={class:"inline-flex items-center px-2 py-1 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium"},Xt={class:"px-4 py-4"},Qt={class:"text-sm text-gray-900"},Zt={class:"text-xs text-gray-500"},es={class:"px-4 py-4 text-center"},ts={class:"inline-flex items-center px-2 py-1 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium"},ss={class:"px-4 py-4 text-right"},os={class:"flex items-center justify-end space-x-1"},as=["onClick"],ls=["onClick"],ns={key:0,class:"text-center py-16"},is={key:1,class:"flex items-center justify-between px-6 py-4 border-t border-gray-100 bg-gray-50"},rs={class:"text-sm text-gray-500"},ds={class:"font-medium"},us={class:"font-medium"},ps={class:"flex space-x-1"},cs=["onClick"],hs={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ms={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},bs={class:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all"},gs={class:"px-6 py-4 border-b border-gray-100"},fs={class:"flex items-center justify-between"},xs={class:"text-xl font-bold text-gray-900"},ys={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vs=["disabled"],ws={class:"block text-sm font-medium text-gray-700 mb-1.5"},ks={key:0,class:"text-red-500"},_s=["required","placeholder"],Os=["label"],Cs=["value"],Ss={class:"md:col-span-2"},js={class:"mt-6 pt-4 border-t border-gray-200"},Vs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ks={class:"flex space-x-3 mt-6 pt-4 border-t border-gray-100"},$s=["disabled"],Ps={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ms={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},Bs={class:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full mx-auto transform transition-all p-6"},Ls={class:"text-center"},Ts={class:"flex gap-3"},As={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ds={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},Fs={class:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all"},Is={class:"px-6 py-4 border-b border-gray-100"},Us={class:"flex items-center justify-between"},Es={key:0,class:"p-6 max-h-[70vh] overflow-y-auto"},Ns={class:"grid grid-cols-3 gap-4 mb-6"},zs={class:"bg-gray-50 rounded-xl p-4 text-center"},Rs={class:"text-2xl font-bold text-gray-900"},Hs={class:"bg-green-50 rounded-xl p-4 text-center"},qs={class:"text-2xl font-bold text-green-600"},Gs={class:"bg-red-50 rounded-xl p-4 text-center"},Js={class:"text-2xl font-bold text-red-600"},Ys={key:0,class:"mb-6"},Ws={class:"font-medium text-gray-900 mb-2 flex items-center"},Xs={class:"bg-green-50 rounded-xl p-3 max-h-32 overflow-y-auto"},Qs={class:"space-y-1"},Zs={class:"font-mono text-gray-600 mr-2"},eo={class:"text-gray-900"},to={key:1},so={class:"font-medium text-gray-900 mb-2 flex items-center"},oo={class:"bg-red-50 rounded-xl p-3 max-h-48 overflow-y-auto"},ao={class:"space-y-2"},lo={class:"flex items-center justify-between"},no={class:"font-mono text-gray-600"},io={class:"text-red-600 text-xs"},ro={class:"text-gray-500 text-xs mt-0.5"},uo={class:"px-6 py-4 border-t border-gray-100 bg-gray-50 rounded-b-2xl"},po={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/60 backdrop-blur-sm"},mo={__name:"UserManagePage",setup(t){const a=f([]),l=f([]),m=f(!0),h=f(!1),r=f(!1),V=f(!1),u=f(!1),k=f(!1),x=f(null),F=f(null),I=f([]),M=f([]),T=f(!1),p=f({id:null,npp:"",nama:"",email:"",posisi:"",vendor:"",kepwil:"",kcKabupaten:"",kakabKabupaten:"",password:"",subKategoriId:""}),U=f(!1),K=f({page:1,total:0,totalPages:0}),E=f(""),N=f(""),Q=q(()=>{const n={};return l.value.forEach(s=>{const o=s.kategoriNama;n[o]||(n[o]=[]),n[o].push(s)}),n}),ue=q(()=>{const n=I.value.find(s=>s.nama===p.value.kepwil);return(n==null?void 0:n.id)||null});$e(()=>p.value.kepwil,async n=>{n?await Z(ue.value):(M.value=[],p.value.kcKabupaten="",p.value.kakabKabupaten="")}),Pe(async()=>{await Promise.all([B(),ce(),pe()])});async function pe(){try{const n=await $.get("/lokasi/provinsi");I.value=n.data.data}catch(n){console.error("Failed to fetch provinsi:",n)}}async function Z(n){if(!n){M.value=[];return}T.value=!0;try{const s=await $.get(`/lokasi/kabupaten/${n}`);M.value=s.data.data}catch(s){console.error("Failed to fetch kabupaten:",s),M.value=[]}finally{T.value=!1}}async function ce(){const n=await $.get("/kategori");l.value=n.data.flatMap(s=>s.subKategoris.map(o=>({...o,kategoriNama:s.nama})))}async function B(){m.value=!0;try{const n={page:K.value.page};E.value&&(n.search=E.value),N.value&&(n.subKategoriId=N.value);const s=await $.get("/user",{params:n});a.value=s.data.data,K.value=s.data.pagination}catch(n){console.error(n)}finally{m.value=!1}}function he(){p.value={id:null,npp:"",nama:"",email:"",posisi:"",vendor:"",kepwil:"",kcKabupaten:"",kakabKabupaten:"",password:"",subKategoriId:""},M.value=[]}function me(){he(),r.value=!1,h.value=!0}async function be(n){if(p.value={id:n.id,npp:n.npp,nama:n.nama,email:n.email||"",posisi:n.posisi||"",vendor:n.vendor||"",kepwil:n.kepwil||"",kcKabupaten:n.kcKabupaten||"",kakabKabupaten:n.kakabKabupaten||"",password:"",subKategoriId:n.subKategoriId},n.kepwil){const s=I.value.find(o=>o.nama===n.kepwil);s&&await Z(s.id)}r.value=!0,h.value=!0}async function ge(){var n,s;U.value=!0;try{const o={...p.value};r.value&&!o.password&&delete o.password,r.value?await $.put(`/user/${p.value.id}`,o):await $.post("/user",o),h.value=!1,B()}catch(o){alert(((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Gagal menyimpan")}finally{U.value=!1}}async function fe(n){var s,o;if(confirm("Yakin hapus user ini?"))try{await $.delete(`/user/${n}`),B()}catch(g){alert(((o=(s=g.response)==null?void 0:s.data)==null?void 0:o.error)||"Gagal menghapus")}}function xe(){K.value.page=1,B()}function ye(){K.value.page=1,B()}function ve(){const n=l.value.find(s=>s.id===parseInt(p.value.subKategoriId));n&&!r.value&&(p.value.posisi=n.nama)}const we=q(()=>I.value.map(n=>n.nama));async function ke(){try{const n=await $.get("/user/template/csv",{responseType:"blob"}),s=new Blob([n.data],{type:"text/csv"}),o=window.URL.createObjectURL(s),g=document.createElement("a");g.href=o,g.download="template-import-user.csv",document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(o)}catch(n){alert("Gagal mengunduh template"),console.error(n)}}function _e(){V.value=!0,x.value=null}function Oe(){var n;(n=F.value)==null||n.click()}async function Ce(n){var o,g;const s=n.target.files[0];if(s){if(!s.name.endsWith(".csv")){alert("File harus berformat CSV");return}k.value=!0,V.value=!1;try{const y=await s.text(),D=await $.post("/user/bulk-import-csv",{csvData:y,defaultPassword:"password123"});x.value=D.data,u.value=!0,D.data.successCount>0&&B()}catch(y){alert(((g=(o=y.response)==null?void 0:o.data)==null?void 0:g.error)||"Gagal mengimport data"),console.error(y)}finally{k.value=!1,F.value&&(F.value.value="")}}}return(n,s)=>(i(),P(Be,null,{default:de(()=>[e("div",xt,[e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},[s[23]||(s[23]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Manajemen User"),e("p",{class:"text-gray-500 text-sm mt-1"},"Kelola data pengguna sistem kuesioner")],-1)),e("div",{class:"flex items-center gap-2 flex-wrap"},[e("button",{onClick:ke,class:"inline-flex items-center px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all"},[...s[20]||(s[20]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),b(" Template CSV ",-1)])]),e("button",{onClick:_e,class:"inline-flex items-center px-3 py-2 bg-white border border-amber-300 text-amber-700 rounded-xl font-medium hover:bg-amber-50 transition-all"},[...s[21]||(s[21]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),b(" Import CSV ",-1)])]),e("button",{onClick:me,class:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-bpjs-500 to-bpjs-600 text-white rounded-xl font-medium shadow-lg shadow-bpjs-500/30 hover:shadow-xl hover:shadow-bpjs-500/40 transition-all"},[...s[22]||(s[22]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),b(" Tambah User ",-1)])])])]),e("input",{ref_key:"csvFileInput",ref:F,type:"file",accept:".csv",class:"hidden",onChange:Ce},null,544),e("div",yt,[e("div",vt,[e("div",wt,[e("div",kt,[s[24]||(s[24]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>E.value=o),type:"text",placeholder:"Cari NPP, nama, atau email...",class:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",onKeyup:Me(xe,["enter"])},null,544),[[L,E.value]])])]),w(e("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>N.value=o),onChange:ye,class:"px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all bg-white"},[s[25]||(s[25]=e("option",{value:""},"Semua Sub Kategori",-1)),(i(!0),d(S,null,j(Q.value,(o,g)=>(i(),d("optgroup",{key:g,label:g},[(i(!0),d(S,null,j(o,y=>(i(),d("option",{key:y.id,value:y.id},c(y.nama),9,Ot))),128))],8,_t))),128))],544),[[ae,N.value]])])]),m.value?(i(),d("div",Ct,[...s[26]||(s[26]=[e("div",{class:"flex flex-col items-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-bpjs-500 mb-4"}),e("p",{class:"text-gray-500"},"Memuat data...")],-1)])])):(i(),d("div",St,[e("div",jt,[e("table",Vt,[s[29]||(s[29]=e("thead",null,[e("tr",{class:"bg-gray-50 border-b border-gray-100"},[e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"User"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Vendor"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Kepwil"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"KC"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Kakab"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Posisi"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Sub Kategori"),e("th",{class:"px-4 py-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Test"),e("th",{class:"px-4 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),e("tbody",Kt,[(i(!0),d(S,null,j(a.value,o=>{var g,y,D,ee,te;return i(),d("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[e("td",$t,[e("div",Pt,[e("div",Mt,[e("span",Bt,c((g=o.nama)==null?void 0:g.charAt(0)),1)]),e("div",Lt,[e("p",Tt,c(o.nama),1),e("p",At,c(o.npp),1)])])]),e("td",Dt,[o.vendor?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-purple-50 text-purple-700 text-xs font-medium max-w-[120px] truncate",title:o.vendor},c(o.vendor),9,Ft)):(i(),d("span",It,"-"))]),e("td",Ut,[o.kepwil?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-emerald-50 text-emerald-700 text-xs font-medium max-w-[130px] truncate",title:o.kepwil},c(o.kepwil),9,Et)):(i(),d("span",Nt,"-"))]),e("td",zt,[o.kcKabupaten?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-blue-50 text-blue-700 text-xs font-medium max-w-[130px] truncate",title:o.kcKabupaten},c(o.kcKabupaten),9,Rt)):(i(),d("span",Ht,"-"))]),e("td",qt,[o.kakabKabupaten?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-amber-50 text-amber-700 text-xs font-medium max-w-[130px] truncate",title:o.kakabKabupaten},c(o.kakabKabupaten),9,Gt)):(i(),d("span",Jt,"-"))]),e("td",Yt,[e("span",Wt,c(o.posisi),1)]),e("td",Xt,[e("p",Qt,c((y=o.subKategori)==null?void 0:y.nama),1),e("p",Zt,c((ee=(D=o.subKategori)==null?void 0:D.kategori)==null?void 0:ee.nama),1)]),e("td",es,[e("span",ts,c(((te=o._count)==null?void 0:te.testSessions)||0),1)]),e("td",ss,[e("div",os,[e("button",{onClick:Se=>be(o),class:"p-1.5 text-gray-500 hover:text-bpjs-600 hover:bg-bpjs-50 rounded-lg transition-colors",title:"Edit"},[...s[27]||(s[27]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,as),e("button",{onClick:Se=>fe(o.id),class:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus"},[...s[28]||(s[28]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ls)])])])}),128))])])]),a.value.length===0?(i(),d("div",ns,[...s[30]||(s[30]=[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})])],-1),e("p",{class:"text-gray-500 font-medium"},"Tidak ada data user",-1),e("p",{class:"text-sm text-gray-400 mt-1"},'Klik tombol "Tambah User" untuk menambahkan pengguna baru',-1)])])):v("",!0),K.value.totalPages>1?(i(),d("div",is,[e("p",rs,[s[31]||(s[31]=b(" Menampilkan ",-1)),e("span",ds,c(a.value.length),1),s[32]||(s[32]=b(" dari ",-1)),e("span",us,c(K.value.total),1),s[33]||(s[33]=b(" user ",-1))]),e("div",ps,[(i(!0),d(S,null,j(K.value.totalPages,o=>(i(),d("button",{key:o,onClick:g=>{K.value.page=o,B()},class:W(["px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",o===K.value.page?"bg-bpjs-500 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"])},c(o),11,cs))),128))])])):v("",!0)])),(i(),P(z,{to:"body"},[h.value?(i(),d("div",hs,[e("div",ms,[e("div",{class:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:s[2]||(s[2]=o=>h.value=!1)}),e("div",bs,[e("div",gs,[e("div",fs,[e("h2",xs,c(r.value?"Edit User":"Tambah User Baru"),1),e("button",{onClick:s[3]||(s[3]=o=>h.value=!1),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},[...s[34]||(s[34]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("form",{onSubmit:Y(ge,["prevent"]),class:"p-6 max-h-[70vh] overflow-y-auto"},[e("div",ys,[e("div",null,[s[35]||(s[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("NPP "),e("span",{class:"text-red-500"},"*")],-1)),w(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>p.value.npp=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",disabled:r.value,required:"",placeholder:"Nomor Pokok Pegawai"},null,8,vs),[[L,p.value.npp]])]),e("div",null,[s[36]||(s[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("Nama "),e("span",{class:"text-red-500"},"*")],-1)),w(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>p.value.nama=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",required:""},null,512),[[L,p.value.nama]])]),e("div",null,[s[37]||(s[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"Email",-1)),w(e("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>p.value.email=o),type:"email",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",placeholder:"email@bpjs.go.id"},null,512),[[L,p.value.email]])]),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"Vendor",-1)),w(e("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>p.value.vendor=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",placeholder:"Nama perusahaan vendor"},null,512),[[L,p.value.vendor]])]),e("div",null,[e("label",ws,[s[39]||(s[39]=b(" Password ",-1)),r.value?v("",!0):(i(),d("span",ks,"*"))]),w(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>p.value.password=o),type:"password",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",required:!r.value,placeholder:r.value?"Kosongkan jika tidak diubah":"Masukkan password"},null,8,_s),[[L,p.value.password]])]),e("div",null,[s[41]||(s[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("Sub Kategori "),e("span",{class:"text-red-500"},"*")],-1)),w(e("select",{"onUpdate:modelValue":s[9]||(s[9]=o=>p.value.subKategoriId=o),onChange:ve,class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all bg-white",required:""},[s[40]||(s[40]=e("option",{value:""},"Pilih Sub Kategori",-1)),(i(!0),d(S,null,j(Q.value,(o,g)=>(i(),d("optgroup",{key:g,label:g},[(i(!0),d(S,null,j(o,y=>(i(),d("option",{key:y.id,value:y.id},c(y.nama),9,Cs))),128))],8,Os))),128))],544),[[ae,p.value.subKategoriId]])]),e("div",Ss,[s[42]||(s[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("Posisi "),e("span",{class:"text-red-500"},"*")],-1)),w(e("input",{"onUpdate:modelValue":s[10]||(s[10]=o=>p.value.posisi=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",required:"",placeholder:"Satpam, Office Boy, dll"},null,512),[[L,p.value.posisi]])])]),e("div",js,[s[46]||(s[46]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Lokasi Kantor",-1)),e("div",Vs,[e("div",null,[s[43]||(s[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b(" Kantor Wilayah (Kepwil) "),e("span",{class:"text-xs text-gray-400 block"},"Provinsi")],-1)),R(G(J),{modelValue:p.value.kepwil,"onUpdate:modelValue":s[11]||(s[11]=o=>p.value.kepwil=o),options:we.value,placeholder:"Pilih Provinsi...",class:"lokasi-select"},null,8,["modelValue","options"])]),e("div",null,[s[44]||(s[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b(" Kantor Cabang (KC) "),e("span",{class:"text-xs text-gray-400 block"},"Kabupaten/Kota")],-1)),R(G(J),{modelValue:p.value.kcKabupaten,"onUpdate:modelValue":s[12]||(s[12]=o=>p.value.kcKabupaten=o),options:M.value,disabled:!p.value.kepwil||T.value,loading:T.value,placeholder:"Pilih Kabupaten...",class:"lokasi-select"},null,8,["modelValue","options","disabled","loading"])]),e("div",null,[s[45]||(s[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b(" Kantor Kabupaten (Kakab) "),e("span",{class:"text-xs text-gray-400 block"},"Kabupaten/Kota")],-1)),R(G(J),{modelValue:p.value.kakabKabupaten,"onUpdate:modelValue":s[13]||(s[13]=o=>p.value.kakabKabupaten=o),options:M.value,disabled:!p.value.kepwil||T.value,loading:T.value,placeholder:"Pilih Kabupaten...",class:"lokasi-select"},null,8,["modelValue","options","disabled","loading"])])]),s[47]||(s[47]=e("p",{class:"text-xs text-gray-500 mt-2"}," * Pilih Kepwil terlebih dahulu untuk menampilkan pilihan KC dan Kakab ",-1))]),e("div",Ks,[e("button",{type:"button",onClick:s[14]||(s[14]=o=>h.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors"}," Batal "),e("button",{type:"submit",class:"flex-1 px-4 py-2.5 bg-gradient-to-r from-bpjs-500 to-bpjs-600 text-white rounded-xl font-medium shadow-lg shadow-bpjs-500/30 hover:shadow-xl disabled:opacity-50 transition-all",disabled:U.value},c(U.value?"Menyimpan...":"Simpan"),9,$s)])],32)])])])):v("",!0)])),(i(),P(z,{to:"body"},[V.value?(i(),d("div",Ps,[e("div",Ms,[e("div",{class:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:s[15]||(s[15]=o=>V.value=!1)}),e("div",Bs,[e("div",Ls,[s[48]||(s[48]=e("div",{class:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])],-1)),s[49]||(s[49]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Import User dari CSV",-1)),s[50]||(s[50]=e("p",{class:"text-gray-500 text-sm mb-6"},"Unggah file CSV sesuai dengan template untuk menambahkan banyak user sekaligus.",-1)),s[51]||(s[51]=e("div",{class:"bg-gray-50 rounded-xl p-4 mb-6 text-left"},[e("h4",{class:"font-medium text-gray-900 mb-2 text-sm"},"Panduan:"),e("ul",{class:"text-xs text-gray-600 space-y-1"},[e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"1."),b(" Download template CSV terlebih dahulu ")]),e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"2."),b(" Isi data sesuai format pada template ")]),e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"3."),b(" Kolom wajib: npp, nama, posisi, subKategoriId ")]),e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"4."),b(" Password default: password123 ")])])],-1)),e("div",Ts,[e("button",{onClick:s[16]||(s[16]=o=>V.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors"}," Batal "),e("button",{onClick:Oe,class:"flex-1 px-4 py-2.5 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-xl font-medium shadow-lg shadow-amber-500/30 hover:shadow-xl transition-all"}," Pilih File CSV ")])])])])])):v("",!0)])),(i(),P(z,{to:"body"},[u.value?(i(),d("div",As,[e("div",Ds,[e("div",{class:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:s[17]||(s[17]=o=>u.value=!1)}),e("div",Fs,[e("div",Is,[e("div",Us,[s[53]||(s[53]=e("h2",{class:"text-xl font-bold text-gray-900"},"Hasil Import",-1)),e("button",{onClick:s[18]||(s[18]=o=>u.value=!1),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},[...s[52]||(s[52]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),x.value?(i(),d("div",Es,[e("div",Ns,[e("div",zs,[e("p",Rs,c(x.value.total),1),s[54]||(s[54]=e("p",{class:"text-xs text-gray-500"},"Total Data",-1))]),e("div",Hs,[e("p",qs,c(x.value.successCount),1),s[55]||(s[55]=e("p",{class:"text-xs text-green-600"},"Berhasil",-1))]),e("div",Gs,[e("p",Js,c(x.value.failedCount),1),s[56]||(s[56]=e("p",{class:"text-xs text-red-600"},"Gagal",-1))])]),x.value.results.success.length>0?(i(),d("div",Ys,[e("h4",Ws,[s[57]||(s[57]=e("svg",{class:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),b(" Berhasil Diimport ("+c(x.value.results.success.length)+") ",1)]),e("div",Xs,[e("div",Qs,[(i(!0),d(S,null,j(x.value.results.success,o=>(i(),d("div",{key:o.id,class:"flex items-center text-sm"},[e("span",Zs,c(o.npp),1),e("span",eo,c(o.nama),1)]))),128))])])])):v("",!0),x.value.results.failed.length>0?(i(),d("div",to,[e("h4",so,[s[58]||(s[58]=e("svg",{class:"w-4 h-4 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),b(" Gagal Diimport ("+c(x.value.results.failed.length)+") ",1)]),e("div",oo,[e("div",ao,[(i(!0),d(S,null,j(x.value.results.failed,(o,g)=>(i(),d("div",{key:g,class:"text-sm border-b border-red-100 pb-2 last:border-0 last:pb-0"},[e("div",lo,[e("span",no,c(o.data.npp||"N/A"),1),e("span",io,c(o.error),1)]),e("p",ro,c(o.data.nama||"Nama tidak tersedia"),1)]))),128))])])])):v("",!0)])):v("",!0),e("div",uo,[e("button",{onClick:s[19]||(s[19]=o=>u.value=!1),class:"w-full px-4 py-2.5 bg-gradient-to-r from-bpjs-500 to-bpjs-600 text-white rounded-xl font-medium shadow-lg shadow-bpjs-500/30 hover:shadow-xl transition-all"}," Tutup ")])])])])):v("",!0)])),(i(),P(z,{to:"body"},[k.value?(i(),d("div",po,[...s[59]||(s[59]=[e("div",{class:"bg-white rounded-2xl p-8 text-center shadow-2xl"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-bpjs-500 mx-auto mb-4"}),e("p",{class:"text-gray-700 font-medium"},"Mengimport data..."),e("p",{class:"text-gray-500 text-sm mt-1"},"Mohon tunggu sebentar")],-1)])])):v("",!0)]))])]),_:1}))}};export{mo as default};
