import{W as Ve,c as d,h as i,X as O,b as e,e as q,Y as C,Z as S,F as j,g as V,x as _,_ as oe,s as P,$ as G,w as ue,v as W,j as v,q as X,i as b,t as c,T as Ke,a0 as ae,a1 as $e,k as Me,r as f,l as J,B as Pe,o as Be,a as $,p as I,a2 as Le,y as A,U as le,C as H}from"./index-L-wCIgqC.js";import{_ as Ae}from"./AdminLayout-C2pOfWaN.js";var Te=Object.defineProperty,De=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,ie=(t,a,l)=>a in t?Te(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,D=(t,a)=>{for(var l in a||(a={}))Ie.call(a,l)&&ie(t,l,a[l]);if(ne)for(var l of ne(a))Ue.call(a,l)&&ie(t,l,a[l]);return t},re=(t,a)=>De(t,Fe(a));const Ee={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(t){this.autoscroll&&t&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var t;const a=((t=this.$refs.dropdownMenu)==null?void 0:t.children[this.typeAheadPointer])||!1;if(a){const l=this.getDropdownViewport(),{top:h,bottom:m,height:r}=a.getBoundingClientRect();if(h<l.top)return this.$refs.dropdownMenu.scrollTop=a.offsetTop;if(m>l.bottom)return this.$refs.dropdownMenu.scrollTop=a.offsetTop-(l.height-r)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},Ne={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open(t){t&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown(){for(let t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect(){const t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},ze={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(t){this.mutableLoading=t}},methods:{toggleLoading(t=null){return t==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=t}}},Q=(t,a)=>{const l=t.__vccOpts||t;for(const[h,m]of a)l[h]=m;return l},Re={},He={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},qe=e("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),Ge=[qe];function Je(t,a){return i(),d("svg",He,Ge)}const Ye=Q(Re,[["render",Je]]),We={},Xe={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},Qe=e("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),Ze=[Qe];function et(t,a){return i(),d("svg",Xe,Ze)}const tt=Q(We,[["render",et]]),de={Deselect:Ye,OpenIndicator:tt},st={mounted(t,{instance:a}){if(a.appendToBody){const{height:l,top:h,left:m,width:r}=a.$refs.toggle.getBoundingClientRect();let y=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=a.calculatePosition(t,a,{width:r+"px",left:y+m+"px",top:u+h+l+"px"}),document.body.appendChild(t)}},unmounted(t,{instance:a}){a.appendToBody&&(t.unbindPosition&&typeof t.unbindPosition=="function"&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};function ot(t){const a={};return Object.keys(t).sort().forEach(l=>{a[l]=t[l]}),JSON.stringify(a)}let at=0;function lt(){return++at}const nt={components:D({},de),directives:{appendToBody:st},mixins:[Ee,Ne,ze],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:t=>t},selectable:{type:Function,default:t=>!0},getOptionLabel:{type:Function,default(t){return typeof t=="object"?t.hasOwnProperty(this.label)?t[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(t)}.
https://vue-select.org/api/props.html#getoptionlabel`):t}},getOptionKey:{type:Function,default(t){if(typeof t!="object")return t;try{return t.hasOwnProperty("id")?t.id:ot(t)}catch(a){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,t,a)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(t,a,l){return(a||"").toLocaleLowerCase().indexOf(l.toLocaleLowerCase())>-1}},filter:{type:Function,default(t,a){return t.filter(l=>{let h=this.getOptionLabel(l);return typeof h=="number"&&(h=h.toString()),this.filterBy(l,h,a)})}},createOption:{type:Function,default(t){return typeof this.optionList[0]=="object"?{[this.label]:t}:t}},resetOnOptionsChange:{default:!1,validator:t=>["function","boolean"].includes(typeof t)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:t,multiple:a}){return t&&!a}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(t,a)=>t},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(t,a,{width:l,top:h,left:m}){t.style.top=h,t.style.left=m,t.style.width=l}},dropdownShouldOpen:{type:Function,default({noDrop:t,open:a,mutableLoading:l}){return t?!1:a&&!l}},uid:{type:[String,Number],default:()=>lt()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let t=this.modelValue;return this.isTrackingValues&&(t=this.$data._value),t!=null&&t!==""?[].concat(t):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:D({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:a=>this.search=a.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:re(D({},t),{deselect:this.deselect}),footer:re(D({},t),{deselect:this.deselect})}},childComponents(){return D(D({},de),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;const a=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){const l=this.createOption(this.search);this.optionExists(l)||a.unshift(l)}return a},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(t,a){const l=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(t,a,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&l()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple(){this.clearSelection()},open(t){this.$emit(t?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(t){Array.isArray(t)?this.$data._value=t.map(a=>this.findOptionFromReducedValue(a)):this.$data._value=this.findOptionFromReducedValue(t)},select(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&(this.$emit("option:created",t),this.pushTag(t)),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect(t){this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter(a=>!this.optionComparator(a,t))),this.$emit("option:deselected",t)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(t){typeof this.modelValue>"u"&&(this.$data._value=t),t!==null&&(Array.isArray(t)?t=t.map(a=>this.reduce(a)):t=this.reduce(t)),this.$emit("update:modelValue",t)},toggleDropdown(t){const a=t.target!==this.searchEl;a&&t.preventDefault();const l=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||l.filter(Boolean).some(h=>h.contains(t.target)||h===t.target)){t.preventDefault();return}this.open&&a?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(t){return this.selectedValue.some(a=>this.optionComparator(a,t))},isOptionDeselectable(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator(t,a){return this.getOptionKey(t)===this.getOptionKey(a)},findOptionFromReducedValue(t){const a=h=>JSON.stringify(this.reduce(h))===JSON.stringify(t),l=[...this.options,...this.pushedTags].filter(a);return l.length===1?l[0]:l.find(h=>this.optionComparator(h,this.$data._value))||t},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let t=null;this.multiple&&(t=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(t)}},optionExists(t){return this.optionList.some(a=>this.optionComparator(a,t))},normalizeOptionForSlot(t){return typeof t=="object"?t:{[this.label]:t}},pushTag(t){this.pushedTags.push(t)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:t,multiple:a}=this;this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:a})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(t){const a=m=>(m.preventDefault(),!this.isComposing&&this.typeAheadSelect()),l={8:m=>this.maybeDeleteValue(),9:m=>this.onTab(),27:m=>this.onEscape(),38:m=>(m.preventDefault(),this.typeAheadUp()),40:m=>(m.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(m=>l[m]=a);const h=this.mapKeydown(l,this);if(typeof h[t.keyCode]=="function")return h[t.keyCode](t)}}},it=["dir"],rt=["id","aria-expanded","aria-owns"],dt={ref:"selectedOptions",class:"vs__selected-options"},ut=["disabled","title","aria-label","onClick"],pt={ref:"actions",class:"vs__actions"},ct=["disabled"],ht={class:"vs__spinner"},mt=["id"],bt=["id","aria-selected","onMouseover","onClick"],gt={key:0,class:"vs__no-options"},ft=b(" Sorry, no matching options. "),xt=["id"];function yt(t,a,l,h,m,r){const y=Ve("append-to-body");return i(),d("div",{dir:l.dir,class:X(["v-select",r.stateClasses])},[O(t.$slots,"header",C(S(r.scope.header))),e("div",{id:`vs${l.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":r.dropdownOpen.toString(),"aria-owns":`vs${l.uid}__listbox`,"aria-label":"Search for option",onMousedown:a[1]||(a[1]=u=>r.toggleDropdown(u))},[e("div",dt,[(i(!0),d(j,null,V(r.selectedValue,(u,w)=>O(t.$slots,"selected-option-container",{option:r.normalizeOptionForSlot(u),deselect:r.deselect,multiple:l.multiple,disabled:l.disabled},()=>[(i(),d("span",{key:l.getOptionKey(u),class:"vs__selected"},[O(t.$slots,"selected-option",C(S(r.normalizeOptionForSlot(u))),()=>[b(c(l.getOptionLabel(u)),1)]),l.multiple?(i(),d("button",{key:0,ref_for:!0,ref:M=>m.deselectButtons[w]=M,disabled:l.disabled,type:"button",class:"vs__deselect",title:`Deselect ${l.getOptionLabel(u)}`,"aria-label":`Deselect ${l.getOptionLabel(u)}`,onClick:M=>r.deselect(u)},[(i(),P(G(r.childComponents.Deselect)))],8,ut)):v("",!0)]))])),256)),O(t.$slots,"search",C(S(r.scope.search)),()=>[e("input",ae({class:"vs__search"},r.scope.search.attributes,$e(r.scope.search.events)),null,16)])],512),e("div",pt,[_(e("button",{ref:"clearButton",disabled:l.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:a[0]||(a[0]=(...u)=>r.clearSelection&&r.clearSelection(...u))},[(i(),P(G(r.childComponents.Deselect)))],8,ct),[[oe,r.showClearButton]]),O(t.$slots,"open-indicator",C(S(r.scope.openIndicator)),()=>[l.noDrop?v("",!0):(i(),P(G(r.childComponents.OpenIndicator),C(ae({key:0},r.scope.openIndicator.attributes)),null,16))]),O(t.$slots,"spinner",C(S(r.scope.spinner)),()=>[_(e("div",ht,"Loading...",512),[[oe,t.mutableLoading]])])],512)],40,rt),q(Ke,{name:l.transition},{default:ue(()=>[r.dropdownOpen?_((i(),d("ul",{id:`vs${l.uid}__listbox`,ref:"dropdownMenu",key:`vs${l.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:a[2]||(a[2]=W((...u)=>r.onMousedown&&r.onMousedown(...u),["prevent"])),onMouseup:a[3]||(a[3]=(...u)=>r.onMouseUp&&r.onMouseUp(...u))},[O(t.$slots,"list-header",C(S(r.scope.listHeader))),(i(!0),d(j,null,V(r.filteredOptions,(u,w)=>(i(),d("li",{id:`vs${l.uid}__option-${w}`,key:l.getOptionKey(u),role:"option",class:X(["vs__dropdown-option",{"vs__dropdown-option--deselect":r.isOptionDeselectable(u)&&w===t.typeAheadPointer,"vs__dropdown-option--selected":r.isOptionSelected(u),"vs__dropdown-option--highlight":w===t.typeAheadPointer,"vs__dropdown-option--disabled":!l.selectable(u)}]),"aria-selected":w===t.typeAheadPointer?!0:null,onMouseover:M=>l.selectable(u)?t.typeAheadPointer=w:null,onClick:W(M=>l.selectable(u)?r.select(u):null,["prevent","stop"])},[O(t.$slots,"option",C(S(r.normalizeOptionForSlot(u))),()=>[b(c(l.getOptionLabel(u)),1)])],42,bt))),128)),r.filteredOptions.length===0?(i(),d("li",gt,[O(t.$slots,"no-options",C(S(r.scope.noOptions)),()=>[ft])])):v("",!0),O(t.$slots,"list-footer",C(S(r.scope.listFooter)))],40,mt)),[[y]]):(i(),d("ul",{key:1,id:`vs${l.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,xt))]),_:3},8,["name"]),O(t.$slots,"footer",C(S(r.scope.footer)))],10,it)}const Y=Q(nt,[["render",yt]]),vt={class:"p-6 lg:p-8"},wt={key:0,class:"bg-emerald-50 border border-emerald-200 rounded-2xl p-4 mb-6"},kt={class:"flex items-center space-x-3"},_t={class:"font-semibold text-emerald-900"},Ot={class:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 mb-6"},Ct={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},St={class:"md:col-span-2"},jt={class:"relative"},Vt=["label"],Kt=["value"],$t={key:1,class:"flex justify-center py-20"},Mt={key:2,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},Pt={class:"overflow-x-auto"},Bt={class:"w-full min-w-[1200px]"},Lt={class:"divide-y divide-gray-100"},At={class:"px-4 py-4"},Tt={class:"flex items-center"},Dt={class:"w-9 h-9 bg-gradient-to-br from-bpjs-400 to-bpjs-600 rounded-full flex items-center justify-center mr-3 shadow flex-shrink-0"},Ft={class:"text-white font-bold text-sm"},It={class:"min-w-0"},Ut={class:"font-medium text-gray-900 truncate"},Et={class:"text-xs text-gray-500 font-mono"},Nt={class:"px-4 py-4"},zt=["title"],Rt={key:1,class:"text-gray-400 text-sm"},Ht={class:"px-4 py-4"},qt=["title"],Gt={key:1,class:"text-gray-400 text-sm"},Jt={class:"px-4 py-4"},Yt=["title"],Wt={key:1,class:"text-gray-400 text-sm"},Xt={class:"px-4 py-4"},Qt=["title"],Zt={key:1,class:"text-gray-400 text-sm"},es={class:"px-4 py-4"},ts={class:"inline-flex items-center px-2 py-1 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium"},ss={class:"px-4 py-4"},os={class:"text-sm text-gray-900"},as={class:"text-xs text-gray-500"},ls={class:"px-4 py-4 text-center"},ns={class:"inline-flex items-center px-2 py-1 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium"},is={class:"px-4 py-4 text-right"},rs={class:"flex items-center justify-end space-x-1"},ds=["onClick"],us=["onClick"],ps={key:0,class:"text-center py-16"},cs={key:1,class:"flex items-center justify-between px-6 py-4 border-t border-gray-100 bg-gray-50"},hs={class:"text-sm text-gray-500"},ms={class:"font-medium"},bs={class:"font-medium"},gs={class:"flex space-x-1"},fs=["onClick"],xs={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ys={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},vs={class:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all"},ws={class:"px-6 py-4 border-b border-gray-100"},ks={class:"flex items-center justify-between"},_s={class:"text-xl font-bold text-gray-900"},Os={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Cs=["disabled"],Ss={class:"block text-sm font-medium text-gray-700 mb-1.5"},js={key:0,class:"text-red-500"},Vs=["required","placeholder"],Ks=["label"],$s=["value"],Ms={class:"md:col-span-2"},Ps={class:"mt-6 pt-4 border-t border-gray-200"},Bs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ls={class:"flex space-x-3 mt-6 pt-4 border-t border-gray-100"},As=["disabled"],Ts={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ds={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},Fs={class:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full mx-auto transform transition-all p-6"},Is={class:"text-center"},Us={class:"flex gap-3"},Es={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ns={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},zs={class:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all"},Rs={class:"px-6 py-4 border-b border-gray-100"},Hs={class:"flex items-center justify-between"},qs={key:0,class:"p-6 max-h-[70vh] overflow-y-auto"},Gs={class:"grid grid-cols-3 gap-4 mb-6"},Js={class:"bg-gray-50 rounded-xl p-4 text-center"},Ys={class:"text-2xl font-bold text-gray-900"},Ws={class:"bg-green-50 rounded-xl p-4 text-center"},Xs={class:"text-2xl font-bold text-green-600"},Qs={class:"bg-red-50 rounded-xl p-4 text-center"},Zs={class:"text-2xl font-bold text-red-600"},eo={key:0,class:"mb-6"},to={class:"font-medium text-gray-900 mb-2 flex items-center"},so={class:"bg-green-50 rounded-xl p-3 max-h-32 overflow-y-auto"},oo={class:"space-y-1"},ao={class:"font-mono text-gray-600 mr-2"},lo={class:"text-gray-900"},no={key:1},io={class:"font-medium text-gray-900 mb-2 flex items-center"},ro={class:"bg-red-50 rounded-xl p-3 max-h-48 overflow-y-auto"},uo={class:"space-y-2"},po={class:"flex items-center justify-between"},co={class:"font-mono text-gray-600"},ho={class:"text-red-600 text-xs"},mo={class:"text-gray-500 text-xs mt-0.5"},bo={class:"px-6 py-4 border-t border-gray-100 bg-gray-50 rounded-b-2xl"},go={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/60 backdrop-blur-sm"},yo={__name:"UserManagePage",setup(t){const a=Me(),l=f([]),h=f([]),m=f(!0),r=f(!1),y=f(!1),u=f(!1),w=f(!1),M=f(!1),k=f(null),U=f(null),E=f([]),B=f([]),T=f(!1),p=f({id:null,npp:"",nama:"",email:"",posisi:"",vendor:"",kepwil:"",kcKabupaten:"",kakabKabupaten:"",password:"",subKategoriId:""}),N=f(!1),K=f({page:1,total:0,totalPages:0}),z=f(""),R=f(""),Z=J(()=>{const n={};return h.value.forEach(s=>{const o=s.kategoriNama;n[o]||(n[o]=[]),n[o].push(s)}),n}),pe=J(()=>{const n=E.value.find(s=>s.nama===p.value.kepwil);return(n==null?void 0:n.id)||null});Pe(()=>p.value.kepwil,async n=>{n?await ee(pe.value):(B.value=[],p.value.kcKabupaten="",p.value.kakabKabupaten="")}),Be(async()=>{await Promise.all([L(),he(),ce()])});async function ce(){try{const n=await $.get("/lokasi/provinsi");E.value=n.data.data}catch(n){console.error("Failed to fetch provinsi:",n)}}async function ee(n){if(!n){B.value=[];return}T.value=!0;try{const s=await $.get(`/lokasi/kabupaten/${n}`);B.value=s.data.data}catch(s){console.error("Failed to fetch kabupaten:",s),B.value=[]}finally{T.value=!1}}async function he(){const n=await $.get("/kategori");h.value=n.data.flatMap(s=>s.subKategoris.map(o=>({...o,kategoriNama:s.nama})))}async function L(){m.value=!0;try{const n={page:K.value.page};z.value&&(n.search=z.value),R.value&&(n.subKategoriId=R.value);const s=await $.get("/user",{params:n});l.value=s.data.data,K.value=s.data.pagination}catch(n){console.error(n)}finally{m.value=!1}}function me(){p.value={id:null,npp:"",nama:"",email:"",posisi:"",vendor:"",kepwil:"",kcKabupaten:"",kakabKabupaten:"",password:"",subKategoriId:""},B.value=[]}function be(){me(),y.value=!1,r.value=!0}async function ge(n){if(p.value={id:n.id,npp:n.npp,nama:n.nama,email:n.email||"",posisi:n.posisi||"",vendor:n.vendor||"",kepwil:n.kepwil||"",kcKabupaten:n.kcKabupaten||"",kakabKabupaten:n.kakabKabupaten||"",password:"",subKategoriId:n.subKategoriId},n.kepwil){const s=E.value.find(o=>o.nama===n.kepwil);s&&await ee(s.id)}y.value=!0,r.value=!0}async function fe(){var n,s;N.value=!0;try{const o={...p.value};y.value&&!o.password&&delete o.password,y.value?await $.put(`/user/${p.value.id}`,o):await $.post("/user",o),r.value=!1,L()}catch(o){alert(((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Gagal menyimpan")}finally{N.value=!1}}async function xe(n){var s,o;if(confirm("Yakin hapus user ini?"))try{await $.delete(`/user/${n}`),L()}catch(g){alert(((o=(s=g.response)==null?void 0:s.data)==null?void 0:o.error)||"Gagal menghapus")}}function ye(){K.value.page=1,L()}function ve(){K.value.page=1,L()}function we(){const n=h.value.find(s=>s.id===parseInt(p.value.subKategoriId));n&&!y.value&&(p.value.posisi=n.nama)}const ke=J(()=>E.value.map(n=>n.nama));async function _e(){try{const n=await $.get("/user/template/csv",{responseType:"blob"}),s=new Blob([n.data],{type:"text/csv"}),o=window.URL.createObjectURL(s),g=document.createElement("a");g.href=o,g.download="template-import-user.csv",document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(o)}catch(n){alert("Gagal mengunduh template"),console.error(n)}}function Oe(){u.value=!0,k.value=null}function Ce(){var n;(n=U.value)==null||n.click()}async function Se(n){var o,g;const s=n.target.files[0];if(s){if(!s.name.endsWith(".csv")){alert("File harus berformat CSV");return}M.value=!0,u.value=!1;try{const x=await s.text(),F=await $.post("/user/bulk-import-csv",{csvData:x,defaultPassword:"password123"});k.value=F.data,w.value=!0,F.data.successCount>0&&L()}catch(x){alert(((g=(o=x.response)==null?void 0:o.data)==null?void 0:g.error)||"Gagal mengimport data"),console.error(x)}finally{M.value=!1,U.value&&(U.value.value="")}}}return(n,s)=>(i(),P(Ae,null,{default:ue(()=>[e("div",vt,[e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},[s[23]||(s[23]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Manajemen User"),e("p",{class:"text-gray-500 text-sm mt-1"},"Kelola data pengguna sistem kuesioner")],-1)),e("div",{class:"flex items-center gap-2 flex-wrap"},[e("button",{onClick:_e,class:"inline-flex items-center px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all"},[...s[20]||(s[20]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),b(" Template CSV ",-1)])]),e("button",{onClick:Oe,class:"inline-flex items-center px-3 py-2 bg-white border border-amber-300 text-amber-700 rounded-xl font-medium hover:bg-amber-50 transition-all"},[...s[21]||(s[21]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),b(" Import CSV ",-1)])]),e("button",{onClick:be,class:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-bpjs-500 to-bpjs-600 text-white rounded-xl font-medium shadow-lg shadow-bpjs-500/30 hover:shadow-xl hover:shadow-bpjs-500/40 transition-all"},[...s[22]||(s[22]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),b(" Tambah User ",-1)])])])]),e("input",{ref_key:"csvFileInput",ref:U,type:"file",accept:".csv",class:"hidden",onChange:Se},null,544),I(a).isAdminKepwil?(i(),d("div",wt,[e("div",kt,[s[25]||(s[25]=e("div",{class:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),e("div",null,[s[24]||(s[24]=e("p",{class:"text-sm text-emerald-800"},"Menampilkan data untuk wilayah:",-1)),e("p",_t,c(I(a).adminKepwil),1)])])])):v("",!0),e("div",Ot,[e("div",Ct,[e("div",St,[e("div",jt,[s[26]||(s[26]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>z.value=o),type:"text",placeholder:"Cari NPP, nama, atau email...",class:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",onKeyup:Le(ye,["enter"])},null,544),[[A,z.value]])])]),_(e("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>R.value=o),onChange:ve,class:"px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all bg-white"},[s[27]||(s[27]=e("option",{value:""},"Semua Sub Kategori",-1)),(i(!0),d(j,null,V(Z.value,(o,g)=>(i(),d("optgroup",{key:g,label:g},[(i(!0),d(j,null,V(o,x=>(i(),d("option",{key:x.id,value:x.id},c(x.nama),9,Kt))),128))],8,Vt))),128))],544),[[le,R.value]])])]),m.value?(i(),d("div",$t,[...s[28]||(s[28]=[e("div",{class:"flex flex-col items-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-bpjs-500 mb-4"}),e("p",{class:"text-gray-500"},"Memuat data...")],-1)])])):(i(),d("div",Mt,[e("div",Pt,[e("table",Bt,[s[31]||(s[31]=e("thead",null,[e("tr",{class:"bg-gray-50 border-b border-gray-100"},[e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"User"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Vendor"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Kepwil"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"KC"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Kakab"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Posisi"),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Sub Kategori"),e("th",{class:"px-4 py-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Test"),e("th",{class:"px-4 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),e("tbody",Lt,[(i(!0),d(j,null,V(l.value,o=>{var g,x,F,te,se;return i(),d("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[e("td",At,[e("div",Tt,[e("div",Dt,[e("span",Ft,c((g=o.nama)==null?void 0:g.charAt(0)),1)]),e("div",It,[e("p",Ut,c(o.nama),1),e("p",Et,c(o.npp),1)])])]),e("td",Nt,[o.vendor?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-purple-50 text-purple-700 text-xs font-medium max-w-[120px] truncate",title:o.vendor},c(o.vendor),9,zt)):(i(),d("span",Rt,"-"))]),e("td",Ht,[o.kepwil?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-emerald-50 text-emerald-700 text-xs font-medium max-w-[130px] truncate",title:o.kepwil},c(o.kepwil),9,qt)):(i(),d("span",Gt,"-"))]),e("td",Jt,[o.kcKabupaten?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-blue-50 text-blue-700 text-xs font-medium max-w-[130px] truncate",title:o.kcKabupaten},c(o.kcKabupaten),9,Yt)):(i(),d("span",Wt,"-"))]),e("td",Xt,[o.kakabKabupaten?(i(),d("span",{key:0,class:"inline-flex items-center px-2 py-1 rounded-lg bg-amber-50 text-amber-700 text-xs font-medium max-w-[130px] truncate",title:o.kakabKabupaten},c(o.kakabKabupaten),9,Qt)):(i(),d("span",Zt,"-"))]),e("td",es,[e("span",ts,c(o.posisi),1)]),e("td",ss,[e("p",os,c((x=o.subKategori)==null?void 0:x.nama),1),e("p",as,c((te=(F=o.subKategori)==null?void 0:F.kategori)==null?void 0:te.nama),1)]),e("td",ls,[e("span",ns,c(((se=o._count)==null?void 0:se.testSessions)||0),1)]),e("td",is,[e("div",rs,[e("button",{onClick:je=>ge(o),class:"p-1.5 text-gray-500 hover:text-bpjs-600 hover:bg-bpjs-50 rounded-lg transition-colors",title:"Edit"},[...s[29]||(s[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ds),e("button",{onClick:je=>xe(o.id),class:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus"},[...s[30]||(s[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,us)])])])}),128))])])]),l.value.length===0?(i(),d("div",ps,[...s[32]||(s[32]=[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})])],-1),e("p",{class:"text-gray-500 font-medium"},"Tidak ada data user",-1),e("p",{class:"text-sm text-gray-400 mt-1"},'Klik tombol "Tambah User" untuk menambahkan pengguna baru',-1)])])):v("",!0),K.value.totalPages>1?(i(),d("div",cs,[e("p",hs,[s[33]||(s[33]=b(" Menampilkan ",-1)),e("span",ms,c(l.value.length),1),s[34]||(s[34]=b(" dari ",-1)),e("span",bs,c(K.value.total),1),s[35]||(s[35]=b(" user ",-1))]),e("div",gs,[(i(!0),d(j,null,V(K.value.totalPages,o=>(i(),d("button",{key:o,onClick:g=>{K.value.page=o,L()},class:X(["px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",o===K.value.page?"bg-bpjs-500 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"])},c(o),11,fs))),128))])])):v("",!0)])),(i(),P(H,{to:"body"},[r.value?(i(),d("div",xs,[e("div",ys,[e("div",{class:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:s[2]||(s[2]=o=>r.value=!1)}),e("div",vs,[e("div",ws,[e("div",ks,[e("h2",_s,c(y.value?"Edit User":"Tambah User Baru"),1),e("button",{onClick:s[3]||(s[3]=o=>r.value=!1),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},[...s[36]||(s[36]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("form",{onSubmit:W(fe,["prevent"]),class:"p-6 max-h-[70vh] overflow-y-auto"},[e("div",Os,[e("div",null,[s[37]||(s[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("NPP "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>p.value.npp=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",disabled:y.value,required:"",placeholder:"Nomor Pokok Pegawai"},null,8,Cs),[[A,p.value.npp]])]),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("Nama "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>p.value.nama=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",required:""},null,512),[[A,p.value.nama]])]),e("div",null,[s[39]||(s[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"Email",-1)),_(e("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>p.value.email=o),type:"email",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",placeholder:"email@bpjs.go.id"},null,512),[[A,p.value.email]])]),e("div",null,[s[40]||(s[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"Vendor",-1)),_(e("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>p.value.vendor=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",placeholder:"Nama perusahaan vendor"},null,512),[[A,p.value.vendor]])]),e("div",null,[e("label",Ss,[s[41]||(s[41]=b(" Password ",-1)),y.value?v("",!0):(i(),d("span",js,"*"))]),_(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>p.value.password=o),type:"password",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",required:!y.value,placeholder:y.value?"Kosongkan jika tidak diubah":"Masukkan password"},null,8,Vs),[[A,p.value.password]])]),e("div",null,[s[43]||(s[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("Sub Kategori "),e("span",{class:"text-red-500"},"*")],-1)),_(e("select",{"onUpdate:modelValue":s[9]||(s[9]=o=>p.value.subKategoriId=o),onChange:we,class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all bg-white",required:""},[s[42]||(s[42]=e("option",{value:""},"Pilih Sub Kategori",-1)),(i(!0),d(j,null,V(Z.value,(o,g)=>(i(),d("optgroup",{key:g,label:g},[(i(!0),d(j,null,V(o,x=>(i(),d("option",{key:x.id,value:x.id},c(x.nama),9,$s))),128))],8,Ks))),128))],544),[[le,p.value.subKategoriId]])]),e("div",Ms,[s[44]||(s[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b("Posisi "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":s[10]||(s[10]=o=>p.value.posisi=o),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-bpjs-500/20 focus:border-bpjs-500 transition-all",required:"",placeholder:"Satpam, Office Boy, dll"},null,512),[[A,p.value.posisi]])])]),e("div",Ps,[s[48]||(s[48]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Lokasi Kantor",-1)),e("div",Bs,[e("div",null,[s[45]||(s[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b(" Kantor Wilayah (Kepwil) "),e("span",{class:"text-xs text-gray-400 block"},"Provinsi")],-1)),q(I(Y),{modelValue:p.value.kepwil,"onUpdate:modelValue":s[11]||(s[11]=o=>p.value.kepwil=o),options:ke.value,placeholder:"Pilih Provinsi...",class:"lokasi-select"},null,8,["modelValue","options"])]),e("div",null,[s[46]||(s[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b(" Kantor Cabang (KC) "),e("span",{class:"text-xs text-gray-400 block"},"Kabupaten/Kota")],-1)),q(I(Y),{modelValue:p.value.kcKabupaten,"onUpdate:modelValue":s[12]||(s[12]=o=>p.value.kcKabupaten=o),options:B.value,disabled:!p.value.kepwil||T.value,loading:T.value,placeholder:"Pilih Kabupaten...",class:"lokasi-select"},null,8,["modelValue","options","disabled","loading"])]),e("div",null,[s[47]||(s[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[b(" Kantor Kabupaten (Kakab) "),e("span",{class:"text-xs text-gray-400 block"},"Kabupaten/Kota")],-1)),q(I(Y),{modelValue:p.value.kakabKabupaten,"onUpdate:modelValue":s[13]||(s[13]=o=>p.value.kakabKabupaten=o),options:B.value,disabled:!p.value.kepwil||T.value,loading:T.value,placeholder:"Pilih Kabupaten...",class:"lokasi-select"},null,8,["modelValue","options","disabled","loading"])])]),s[49]||(s[49]=e("p",{class:"text-xs text-gray-500 mt-2"}," * Pilih Kepwil terlebih dahulu untuk menampilkan pilihan KC dan Kakab ",-1))]),e("div",Ls,[e("button",{type:"button",onClick:s[14]||(s[14]=o=>r.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors"}," Batal "),e("button",{type:"submit",class:"flex-1 px-4 py-2.5 bg-gradient-to-r from-bpjs-500 to-bpjs-600 text-white rounded-xl font-medium shadow-lg shadow-bpjs-500/30 hover:shadow-xl disabled:opacity-50 transition-all",disabled:N.value},c(N.value?"Menyimpan...":"Simpan"),9,As)])],32)])])])):v("",!0)])),(i(),P(H,{to:"body"},[u.value?(i(),d("div",Ts,[e("div",Ds,[e("div",{class:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:s[15]||(s[15]=o=>u.value=!1)}),e("div",Fs,[e("div",Is,[s[50]||(s[50]=e("div",{class:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])],-1)),s[51]||(s[51]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Import User dari CSV",-1)),s[52]||(s[52]=e("p",{class:"text-gray-500 text-sm mb-6"},"Unggah file CSV sesuai dengan template untuk menambahkan banyak user sekaligus.",-1)),s[53]||(s[53]=e("div",{class:"bg-gray-50 rounded-xl p-4 mb-6 text-left"},[e("h4",{class:"font-medium text-gray-900 mb-2 text-sm"},"Panduan:"),e("ul",{class:"text-xs text-gray-600 space-y-1"},[e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"1."),b(" Download template CSV terlebih dahulu ")]),e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"2."),b(" Isi data sesuai format pada template ")]),e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"3."),b(" Kolom wajib: npp, nama, posisi, subKategoriId ")]),e("li",{class:"flex items-start"},[e("span",{class:"text-bpjs-500 mr-2"},"4."),b(" Password default: password123 ")])])],-1)),e("div",Us,[e("button",{onClick:s[16]||(s[16]=o=>u.value=!1),class:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors"}," Batal "),e("button",{onClick:Ce,class:"flex-1 px-4 py-2.5 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-xl font-medium shadow-lg shadow-amber-500/30 hover:shadow-xl transition-all"}," Pilih File CSV ")])])])])])):v("",!0)])),(i(),P(H,{to:"body"},[w.value?(i(),d("div",Es,[e("div",Ns,[e("div",{class:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:s[17]||(s[17]=o=>w.value=!1)}),e("div",zs,[e("div",Rs,[e("div",Hs,[s[55]||(s[55]=e("h2",{class:"text-xl font-bold text-gray-900"},"Hasil Import",-1)),e("button",{onClick:s[18]||(s[18]=o=>w.value=!1),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},[...s[54]||(s[54]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),k.value?(i(),d("div",qs,[e("div",Gs,[e("div",Js,[e("p",Ys,c(k.value.total),1),s[56]||(s[56]=e("p",{class:"text-xs text-gray-500"},"Total Data",-1))]),e("div",Ws,[e("p",Xs,c(k.value.successCount),1),s[57]||(s[57]=e("p",{class:"text-xs text-green-600"},"Berhasil",-1))]),e("div",Qs,[e("p",Zs,c(k.value.failedCount),1),s[58]||(s[58]=e("p",{class:"text-xs text-red-600"},"Gagal",-1))])]),k.value.results.success.length>0?(i(),d("div",eo,[e("h4",to,[s[59]||(s[59]=e("svg",{class:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),b(" Berhasil Diimport ("+c(k.value.results.success.length)+") ",1)]),e("div",so,[e("div",oo,[(i(!0),d(j,null,V(k.value.results.success,o=>(i(),d("div",{key:o.id,class:"flex items-center text-sm"},[e("span",ao,c(o.npp),1),e("span",lo,c(o.nama),1)]))),128))])])])):v("",!0),k.value.results.failed.length>0?(i(),d("div",no,[e("h4",io,[s[60]||(s[60]=e("svg",{class:"w-4 h-4 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),b(" Gagal Diimport ("+c(k.value.results.failed.length)+") ",1)]),e("div",ro,[e("div",uo,[(i(!0),d(j,null,V(k.value.results.failed,(o,g)=>(i(),d("div",{key:g,class:"text-sm border-b border-red-100 pb-2 last:border-0 last:pb-0"},[e("div",po,[e("span",co,c(o.data.npp||"N/A"),1),e("span",ho,c(o.error),1)]),e("p",mo,c(o.data.nama||"Nama tidak tersedia"),1)]))),128))])])])):v("",!0)])):v("",!0),e("div",bo,[e("button",{onClick:s[19]||(s[19]=o=>w.value=!1),class:"w-full px-4 py-2.5 bg-gradient-to-r from-bpjs-500 to-bpjs-600 text-white rounded-xl font-medium shadow-lg shadow-bpjs-500/30 hover:shadow-xl transition-all"}," Tutup ")])])])])):v("",!0)])),(i(),P(H,{to:"body"},[M.value?(i(),d("div",go,[...s[61]||(s[61]=[e("div",{class:"bg-white rounded-2xl p-8 text-center shadow-2xl"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-bpjs-500 mx-auto mb-4"}),e("p",{class:"text-gray-700 font-medium"},"Mengimport data..."),e("p",{class:"text-gray-500 text-sm mt-1"},"Mohon tunggu sebentar")],-1)])])):v("",!0)]))])]),_:1}))}};export{yo as default};
