import{k as W,r as x,l as E,u as G,o as U,a as V,m as q,c as r,b as t,t as n,F as g,j as d,e as O,z as Q,w as $,f as X,i as c,p as _,d as Y,g as D,h as o,y as h}from"./index-Cv3Gfbck.js";const Z={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},tt={key:0,class:"flex justify-center items-center min-h-screen"},et={key:1,class:"flex flex-col justify-center items-center min-h-screen"},st={class:"text-red-500 mb-4"},at={class:"gradient-bpjs text-white py-16 relative overflow-hidden"},ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative"},rt={class:"flex items-center text-sm mb-6"},nt={class:"text-white"},lt={class:"flex flex-col md:flex-row md:items-center md:justify-between"},it={class:"text-center md:text-left"},dt={key:0,class:"inline-flex items-center px-4 py-2 bg-white/20 rounded-full text-sm mb-4"},ut={class:"text-4xl md:text-5xl font-bold mb-4"},ct={key:1,class:"text-lg opacity-80 max-w-2xl"},mt={class:"font-semibold"},ht={key:0,class:"mt-6 md:mt-0 bg-white/20 rounded-xl p-4 text-center md:text-right"},xt={class:"font-bold text-lg"},gt={class:"text-sm opacity-80"},pt={key:0,class:"py-20"},kt={class:"py-6 bg-white border-b border-gray-200"},vt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ft={class:"flex items-center justify-center space-x-2 md:space-x-4 text-sm overflow-x-auto"},bt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},wt={key:1},yt={class:"font-medium"},_t={key:0,class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ct={class:"py-12"},jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Bt=["onClick"],Tt=["innerHTML"],St={class:"text-xl font-bold mt-4"},At={class:"p-5"},Lt={class:"text-gray-600 text-sm mb-4"},Pt={class:"flex items-center justify-between text-sm text-gray-500 mb-4"},Vt={class:"flex items-center"},$t={key:0,class:"flex items-center text-emerald-600"},Dt=["disabled"],zt={key:0,class:"mt-3 text-center"},Ht={key:1,class:"mt-3 text-center"},It={key:0,class:"py-8 bg-white border-t border-gray-200"},Kt={class:"max-w-4xl mx-auto px-4"},Rt={class:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-6"},Nt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ft={class:"bg-white rounded-xl p-4 text-center"},Jt={class:"text-3xl font-bold text-emerald-600"},Wt={class:"bg-white rounded-xl p-4 text-center"},Et={class:"text-3xl font-bold text-green-600"},Gt={class:"bg-white rounded-xl p-4 text-center"},Ut={class:"text-3xl font-bold text-red-600"},qt={class:"bg-white rounded-xl p-4 text-center"},Ot={class:"text-3xl font-bold text-gray-600"},Yt={__name:"SubKategoriPage",setup(Qt){const z=q(),m=G(),p=W(),u=x(null),l=x(null),v=x(!0),k=x(null),f=x(!1),b=E(()=>{var i;if(!l.value)return[];const s=l.value,e=s.userProgress||{};return[{id:"materi",name:"Kupas Tuntas",description:"Pelajari materi untuk mempersiapkan test",icon:`<svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
      </svg>`,gradient:"from-violet-500 to-purple-600",count:s.jumlahMateri,countLabel:"materi",completed:e.materiCompleted,canAccess:!0,status:e.materiCompleted?"Selesai":"Baca Materi",action:()=>m.push(`/periode/${s.id}/materi`)},{id:"test",name:"JITU",description:"Kerjakan soal-soal test untuk menguji pemahaman",icon:`<svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>`,gradient:"from-blue-500 to-indigo-600",count:s.jumlahSoal,countLabel:"soal",completed:e.testCompleted,canAccess:e.materiCompleted&&s.status==="aktif",status:H(s,e),statusClass:I(s,e),scheduleInfo:R(s),action:()=>N()},{id:"docheck",name:"Do-Check",description:"Lihat koreksi dan pembahasan jawaban test",icon:`<svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
      </svg>`,gradient:"from-teal-500 to-cyan-600",count:((i=e.hasilTest)==null?void 0:i.benar)||0,countLabel:"benar",completed:e.testCompleted&&(s.status==="docheck"||s.status==="selesai"),canAccess:e.testCompleted&&(s.status==="docheck"||s.status==="selesai"),status:K(s,e),action:()=>m.push(`/periode/${s.id}/result`)},{id:"rekap",name:"Rekapin",description:"Lihat rekap progress dan hasil pembelajaran",icon:`<svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
      </svg>`,gradient:"from-amber-500 to-orange-600",count:e.hasilTest?Math.round(e.hasilTest.skor):0,countLabel:"skor",completed:e.testCompleted,canAccess:e.testCompleted,status:e.testCompleted?"Lihat Rekap":"Selesaikan test",action:()=>m.push(`/periode/${s.id}/result`)}]});U(async()=>{await w()});async function w(){var s;v.value=!0,k.value=null,f.value=!1;try{const e=await V.get(`/kategori/sub-kategori/${z.params.subKategoriId}`);u.value=e.data;try{const i=await V.get("/periode/user/active");l.value=i.data}catch(i){if(((s=i.response)==null?void 0:s.status)===404)f.value=!0;else throw i}}catch(e){k.value="Gagal memuat data",console.error(e)}finally{v.value=!1}}function H(s,e){return e.testCompleted?"Selesai":e.materiCompleted?s.status==="terjadwal"?"Belum Dibuka":s.status==="docheck"||s.status==="selesai"?"Waktu Habis":s.status==="aktif"?"Mulai Test":"Tidak Tersedia":"Baca materi dulu"}function I(s,e){return e.testCompleted?"bg-green-100 text-green-700":s.status==="terjadwal"?"bg-yellow-100 text-yellow-700":s.status==="aktif"&&e.materiCompleted?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}function K(s,e){return e.testCompleted?s.status==="aktif"?"Belum Tersedia":s.status==="docheck"||s.status==="selesai"?"Lihat Koreksi":"Tidak Tersedia":"Kerjakan test dulu"}function R(s){return s.status==="terjadwal"&&s.jamMulai?`Jadwal: ${C(s.jamMulai)}`:s.status==="aktif"&&s.jamBerakhir?`Berakhir: ${C(s.jamBerakhir)}`:null}function C(s){return s?new Date(s).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}async function N(){if(!l.value)return;const s=l.value,e=s.userProgress||{};if(!e.materiCompleted){alert("Selesaikan materi terlebih dahulu");return}if(s.status!=="aktif"){alert(s.status==="terjadwal"?"Test belum dibuka, silakan tunggu jadwal":"Waktu pengerjaan test sudah berakhir");return}if(e.testCompleted){m.push(`/periode/${s.id}/result`);return}m.push(`/periode/${s.id}/test`)}function F(s){s.canAccess&&s.action&&s.action()}async function J(){await p.logout(),m.push("/")}return(s,e)=>{var j,M,B,T,S,A,L,P;const i=X("router-link");return o(),r("div",Z,[v.value?(o(),r("div",tt,[...e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-bpjs-500"},null,-1)])])):k.value?(o(),r("div",et,[t("p",st,n(k.value),1),t("button",{onClick:w,class:"btn-primary"},"Coba Lagi")])):(o(),r(g,{key:2},[t("section",at,[e[6]||(e[6]=t("div",{class:"absolute inset-0 opacity-10"},[t("div",{class:"absolute top-0 right-0 w-96 h-96 bg-white rounded-full transform translate-x-1/3 -translate-y-1/3"}),t("div",{class:"absolute bottom-0 left-0 w-64 h-64 bg-white rounded-full transform -translate-x-1/3 translate-y-1/3"})],-1)),t("div",ot,[t("div",rt,[O(i,{to:"/",class:"text-white/70 hover:text-white transition-colors"},{default:$(()=>[...e[1]||(e[1]=[c(" Beranda ",-1)])]),_:1}),e[2]||(e[2]=t("svg",{class:"w-4 h-4 mx-2 opacity-60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),(j=u.value)!=null&&j.kategori?(o(),Q(i,{key:0,to:`/kategori/${u.value.kategori.id}`,class:"text-white/70 hover:text-white transition-colors"},{default:$(()=>[c(n(u.value.kategori.nama),1)]),_:1},8,["to"])):d("",!0),e[3]||(e[3]=t("svg",{class:"w-4 h-4 mx-2 opacity-60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),t("span",nt,n((M=u.value)==null?void 0:M.nama),1)]),t("div",lt,[t("div",it,[(B=u.value)!=null&&B.kategori?(o(),r("div",dt,n(u.value.kategori.nama),1)):d("",!0),t("h1",ut,n((T=u.value)==null?void 0:T.nama),1),l.value?(o(),r("p",ct,[e[4]||(e[4]=c(" Periode: ",-1)),t("span",mt,n(l.value.nama),1)])):d("",!0)]),_(p).isAuthenticated?(o(),r("div",ht,[e[5]||(e[5]=t("p",{class:"text-sm opacity-80"},"Login sebagai:",-1)),t("p",xt,n((S=_(p).user)==null?void 0:S.nama),1),t("p",gt,n((A=_(p).user)==null?void 0:A.posisi),1),t("button",{onClick:J,class:"mt-2 text-sm underline opacity-80 hover:opacity-100"}," Logout ")])):d("",!0)])])]),f.value?(o(),r("section",pt,[t("div",{class:"max-w-2xl mx-auto px-4 text-center"},[t("div",{class:"bg-white rounded-2xl shadow-xl p-12"},[e[7]||(e[7]=Y('<div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6"><svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h2 class="text-2xl font-bold text-gray-800 mb-4">Belum Ada Periode Aktif</h2><p class="text-gray-600 mb-6"> Saat ini belum ada periode test yang dijadwalkan untuk kategori Anda. Silakan tunggu pengumuman jadwal dari admin. </p>',3)),t("button",{onClick:w,class:"btn-primary"}," Refresh ")])])])):l.value?(o(),r(g,{key:1},[t("section",kt,[t("div",vt,[t("div",ft,[(o(!0),r(g,null,D(b.value,(a,y)=>(o(),r(g,{key:a.id},[t("div",{class:h(["flex items-center whitespace-nowrap",a.completed?"text-emerald-600":a.canAccess?"text-blue-600":"text-gray-400"])},[t("span",{class:h(["w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-2",a.completed?"bg-emerald-100":a.canAccess?"bg-blue-100":"bg-gray-100"])},[a.completed?(o(),r("svg",bt,[...e[8]||(e[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(o(),r("span",wt,n(y+1),1))],2),t("span",yt,n(a.name),1)],2),y<b.value.length-1?(o(),r("svg",_t,[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])])):d("",!0)],64))),128))])])]),t("section",Ct,[t("div",jt,[e[14]||(e[14]=t("div",{class:"text-center mb-10"},[t("h2",{class:"text-2xl font-bold text-gray-800 mb-2"},"Pilih Modul Pembelajaran"),t("p",{class:"text-gray-600"},"Ikuti urutan pembelajaran untuk hasil yang optimal")],-1)),t("div",Mt,[(o(!0),r(g,null,D(b.value,a=>(o(),r("div",{key:a.id,class:h(["bg-white rounded-2xl shadow-lg overflow-hidden border-2 transition-all duration-300",{"border-transparent hover:shadow-xl cursor-pointer":a.canAccess,"border-gray-200 opacity-60":!a.canAccess}]),onClick:y=>F(a)},[t("div",{class:h(["p-6 text-white",`bg-gradient-to-br ${a.gradient}`])},[t("div",{class:"opacity-90",innerHTML:a.icon},null,8,Tt),t("h3",St,n(a.name),1)],2),t("div",At,[t("p",Lt,n(a.description),1),t("div",Pt,[t("span",Vt,[e[10]||(e[10]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),c(" "+n(a.count)+" "+n(a.countLabel),1)]),a.completed?(o(),r("span",$t,[...e[11]||(e[11]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),c(" Selesai ",-1)])])):d("",!0)]),t("button",{class:h(["w-full py-3 rounded-xl font-semibold transition-all duration-300",{"bg-gradient-to-r text-white shadow-lg hover:shadow-xl":a.canAccess,[a.gradient]:a.canAccess,"bg-gray-100 text-gray-400 cursor-not-allowed":!a.canAccess}]),disabled:!a.canAccess},n(a.status),11,Dt),a.scheduleInfo?(o(),r("div",zt,[t("span",{class:h(["inline-flex items-center text-xs px-2 py-1 rounded-full",a.statusClass])},[e[12]||(e[12]=t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),c(" "+n(a.scheduleInfo),1)],2)])):!a.canAccess&&!a.completed?(o(),r("div",Ht,[...e[13]||(e[13]=[t("span",{class:"inline-flex items-center text-xs text-gray-400"},[t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),c(" Selesaikan tahap sebelumnya ")],-1)])])):d("",!0)])],10,Bt))),128))])])]),(L=l.value.userProgress)!=null&&L.hasilTest?(o(),r("section",It,[t("div",Kt,[t("div",Rt,[e[19]||(e[19]=t("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Hasil Test Anda",-1)),t("div",Nt,[t("div",Ft,[t("p",Jt,n((P=l.value.userProgress.hasilTest.skor)==null?void 0:P.toFixed(0)),1),e[15]||(e[15]=t("p",{class:"text-sm text-gray-500"},"Skor",-1))]),t("div",Wt,[t("p",Et,n(l.value.userProgress.hasilTest.benar),1),e[16]||(e[16]=t("p",{class:"text-sm text-gray-500"},"Benar",-1))]),t("div",Gt,[t("p",Ut,n(l.value.userProgress.hasilTest.salah),1),e[17]||(e[17]=t("p",{class:"text-sm text-gray-500"},"Salah",-1))]),t("div",qt,[t("p",Ot,n(l.value.userProgress.hasilTest.tidakDijawab),1),e[18]||(e[18]=t("p",{class:"text-sm text-gray-500"},"Tidak Dijawab",-1))])])])])])):d("",!0)],64)):d("",!0)],64))])}}};export{Yt as default};
