import{r as b,o as C,a as T,c as n,b as t,e as j,w as B,f as M,F as V,g as R,u as A,h as r,i as D,t as o,y as F}from"./index-Cv3Gfbck.js";const H={class:"min-h-screen bg-gray-50 py-12"},L={class:"max-w-4xl mx-auto px-4"},N={key:0,class:"flex justify-center py-20"},S={key:1,class:"text-center py-20"},z={key:2,class:"space-y-4"},K=["onClick"],$={class:"flex items-center justify-between"},E={class:"flex items-center space-x-4"},G={class:"font-semibold text-gray-800"},I={class:"text-sm text-gray-500"},P={class:"text-xs text-gray-400 mt-1"},q={class:"text-right"},J={class:"text-xs text-gray-500 mt-1"},W={__name:"HistoryPage",setup(O){const v=A(),l=b([]),i=b(!0);C(async()=>{try{const s=await T.get("/test/history");l.value=s.data}catch(s){console.error(s)}finally{i.value=!1}});function w(s){return s>=90?"bg-green-100 text-green-700":s>=80?"bg-blue-100 text-blue-700":s>=70?"bg-yellow-100 text-yellow-700":s>=60?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}function _(s){v.push(`/result/${s}`)}return(s,e)=>{const k=M("router-link");return r(),n("div",H,[t("div",L,[e[6]||(e[6]=t("h1",{class:"text-3xl font-bold text-gray-800 mb-2"},"Riwayat Test",-1)),e[7]||(e[7]=t("p",{class:"text-gray-600 mb-8"},"Lihat semua hasil test yang telah Anda selesaikan",-1)),i.value?(r(),n("div",N,[...e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-bpjs-500"},null,-1)])])):l.value.length===0?(r(),n("div",S,[e[2]||(e[2]=t("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),e[3]||(e[3]=t("h3",{class:"text-lg font-medium text-gray-900 mb-1"},"Belum Ada Riwayat",-1)),e[4]||(e[4]=t("p",{class:"text-gray-500 mb-4"},"Anda belum menyelesaikan test apapun",-1)),j(k,{to:"/",class:"btn-primary"},{default:B(()=>[...e[1]||(e[1]=[D("Mulai Test",-1)])]),_:1})])):(r(),n("div",z,[(r(!0),n(V,null,R(l.value,a=>{var d,u,c,x,g,h,y,p,m,f;return r(),n("div",{key:a.id,class:"card hover:shadow-lg cursor-pointer transition-shadow",onClick:Q=>_(a.id)},[t("div",$,[t("div",E,[e[5]||(e[5]=t("div",{class:"w-12 h-12 gradient-bpjs rounded-xl flex items-center justify-center flex-shrink-0"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",null,[t("h3",G,o((d=a.modul)==null?void 0:d.nama),1),t("p",I,o((x=(c=(u=a.modul)==null?void 0:u.subKategori)==null?void 0:c.kategori)==null?void 0:x.nama)+" - "+o((h=(g=a.modul)==null?void 0:g.subKategori)==null?void 0:h.nama),1),t("p",P,o(new Date(a.endTime).toLocaleString("id-ID")),1)])]),t("div",q,[t("div",{class:F(["inline-flex items-center px-3 py-1 rounded-full text-sm font-bold",w(((y=a.hasilTest)==null?void 0:y.skor)||0)])},o((((p=a.hasilTest)==null?void 0:p.skor)||0).toFixed(0))+"% ",3),t("p",J,o((m=a.hasilTest)==null?void 0:m.benar)+"/"+o((f=a.hasilTest)==null?void 0:f.totalSoal)+" benar ",1)])])],8,K)}),128))]))])])}}};export{W as default};
