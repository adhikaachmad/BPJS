import{k as L,r as p,l as b,o as z,a as V,m as N,u as T,c as r,b as e,t as i,F as w,j as x,e as P,w as F,f as H,p as h,g as I,h as n,i as j,q as C}from"./index-L-wCIgqC.js";const R={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},q={key:0,class:"flex justify-center items-center min-h-screen"},D={key:1,class:"flex flex-col justify-center items-center min-h-screen"},E={class:"text-red-500 mb-4"},G={class:"gradient-bpjs text-white py-12"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},O={class:"flex items-center mb-4"},Q={class:"text-3xl md:text-4xl font-bold mb-2"},U={class:"text-lg opacity-80"},W={key:0,class:"mt-4 inline-flex items-center bg-white/20 rounded-lg px-4 py-2"},X={class:"mr-3"},Y={class:"py-12 -mt-6"},Z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ee=["onClick"],te={key:0,class:"absolute -top-2 -right-2 bg-bpjs-500 text-white text-xs px-2 py-1 rounded-full"},se={key:1,class:"absolute -top-2 -right-2 bg-gray-500 text-white text-xs px-2 py-1 rounded-full"},oe={class:"flex items-start space-x-4"},re={class:"flex-grow"},ne={class:"font-bold text-lg text-gray-800 mb-1"},ie={class:"text-gray-600 text-sm mb-3"},ae={class:"flex items-center justify-between"},le={class:"text-xs text-gray-500"},de={key:0,class:"text-bpjs-600 text-sm font-medium flex items-center group-hover:translate-x-1 transition-transform"},ue={key:1,class:"text-gray-400 text-sm"},he={__name:"KategoriPage",setup(ce){const A=N(),u=T(),a=L(),l=p(null),m=p(!0),c=p(null),d=b(()=>{var o;return!a.isAuthenticated||!((o=a.user)!=null&&o.subKategori)?null:a.user.subKategori}),B=b(()=>!d.value||!l.value?!1:d.value.kategoriId===l.value.id);z(async()=>{try{const o=await V.get(`/kategori/${A.params.kategoriId}`);l.value=o.data,a.isAuthenticated&&B.value&&u.push(`/sub-kategori/${d.value.id}`)}catch(o){c.value="Gagal memuat data kategori",console.error(o)}finally{m.value=!1}});function M(o){var t;if(a.isAuthenticated&&((t=d.value)==null?void 0:t.id)===o.id){u.push(`/sub-kategori/${o.id}`);return}u.push(`/login/${o.slug}`)}async function S(){await a.logout()}return(o,t)=>{var g,v;const $=H("router-link");return n(),r("div",R,[m.value?(n(),r("div",q,[...t[1]||(t[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-bpjs-500"},null,-1)])])):c.value?(n(),r("div",D,[e("p",E,i(c.value),1),e("button",{onClick:t[0]||(t[0]=s=>o.$router.go(0)),class:"btn-primary"},"Coba Lagi")])):(n(),r(w,{key:2},[e("section",G,[e("div",J,[e("div",O,[P($,{to:"/",class:"text-white/80 hover:text-white transition-colors"},{default:F(()=>[...t[2]||(t[2]=[j(" Beranda ",-1)])]),_:1}),t[3]||(t[3]=e("svg",{class:"w-4 h-4 mx-2 opacity-60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),e("span",null,i(l.value.nama),1)]),e("h1",Q,i(l.value.nama),1),e("p",U,i(l.value.deskripsi),1),h(a).isAuthenticated?(n(),r("div",W,[t[4]||(t[4]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("span",X,i((g=h(a).user)==null?void 0:g.nama)+" ("+i((v=h(a).user)==null?void 0:v.posisi)+")",1),e("button",{onClick:S,class:"text-white/80 hover:text-white underline text-sm"}," Logout ")])):x("",!0)])]),e("section",Y,[e("div",Z,[t[7]||(t[7]=e("div",{class:"text-center mb-10"},[e("h2",{class:"text-2xl font-bold text-gray-800 mb-2"},"Pilih Sub Kategori"),e("p",{class:"text-gray-600"},"Klik posisi Anda untuk login dan mengakses modul")],-1)),e("div",K,[(n(!0),r(w,null,I(l.value.subKategoris,s=>{var k,f,_,y;return n(),r("div",{key:s.id,onClick:pe=>M(s),class:C(["card border-2 border-transparent group relative cursor-pointer",[s.isActive?"hover:border-bpjs-500 hover:shadow-lg":"opacity-75 hover:opacity-100 hover:border-gray-300",((k=d.value)==null?void 0:k.id)===s.id?"ring-2 ring-bpjs-500 border-bpjs-500":""]])},[((f=d.value)==null?void 0:f.id)===s.id?(n(),r("div",te," Posisi Anda ")):x("",!0),s.isActive?x("",!0):(n(),r("div",se," Coming Soon ")),e("div",oe,[e("div",{class:C(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-transform",[s.isActive?"gradient-bpjs group-hover:scale-110":"bg-gray-300"]])},[...t[5]||(t[5]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)])],2),e("div",re,[e("h3",ne,i(s.nama),1),e("p",ie,i(s.deskripsi),1),e("div",ae,[e("span",le,i(((_=s.moduls)==null?void 0:_.length)||0)+" Modul ",1),s.isActive?(n(),r("span",de,[t[6]||(t[6]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1)),j(" "+i(((y=d.value)==null?void 0:y.id)===s.id?"Masuk":"Login"),1)])):(n(),r("span",ue," Segera Hadir "))])])])],10,ee)}),128))])])])],64))])}}};export{he as default};
