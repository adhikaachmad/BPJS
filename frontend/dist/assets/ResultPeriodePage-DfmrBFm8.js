import{r as g,l as y,o as ee,a as te,m as se,c as r,j as x,b as e,t as l,F as h,i as m,y as v,n as w,d as ae,g as _,u as le,h as n}from"./index-Cv3Gfbck.js";const oe={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},re={key:0,class:"flex justify-center items-center min-h-screen"},ne={key:1,class:"flex flex-col justify-center items-center min-h-screen p-4"},ie={class:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center"},de={class:"text-red-500 mb-4"},ue={class:"bg-gradient-to-r from-teal-500 to-cyan-600 text-white shadow-lg"},ce={class:"max-w-5xl mx-auto px-4 py-6"},ve={class:"flex items-center justify-between"},xe={class:"text-2xl font-bold"},be={class:"text-white/80 text-sm mt-1"},ge={class:"text-right"},he={class:"text-sm opacity-80"},me={key:0,class:"max-w-5xl mx-auto px-4 py-8"},pe={class:"bg-white rounded-2xl shadow-lg p-8 mb-8"},we={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"},fe={class:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-4 text-center"},ye={class:"text-3xl font-bold text-emerald-600"},_e={class:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 text-center"},ke={class:"text-3xl font-bold text-green-600"},Ce={class:"bg-gradient-to-br from-red-50 to-rose-50 rounded-xl p-4 text-center"},je={class:"text-3xl font-bold text-red-600"},Te={class:"bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-4 text-center"},Be={class:"text-3xl font-bold text-gray-600"},Se={class:"mb-6"},Me={class:"flex h-4 rounded-full overflow-hidden"},De={class:"flex justify-between mt-2 text-xs text-gray-500"},Re={key:0,class:"text-center"},Je={key:1,class:"text-center"},Pe={key:0,class:"bg-white rounded-2xl shadow-lg p-6"},$e={class:"grid grid-cols-5 sm:grid-cols-10 gap-2"},ze=["onClick"],Ae={class:"bg-white border-b border-gray-200 sticky top-0 z-10"},Ne={class:"max-w-5xl mx-auto px-4 py-3"},Fe={class:"flex items-center justify-between mb-2"},Le={class:"text-sm text-gray-500"},Ve={class:"w-full bg-gray-200 rounded-full h-2"},He={class:"max-w-5xl mx-auto px-4 py-8"},Ke={key:0,class:"bg-white rounded-2xl shadow-lg overflow-hidden mb-6"},Ie={class:"flex items-center justify-between"},Ee={class:"p-6"},Ge={class:"text-lg text-gray-800 mb-6 leading-relaxed"},qe={class:"space-y-3"},Oe={class:"flex items-start"},Qe={class:"flex-1"},Ue={class:"text-gray-700"},We={class:"flex items-center mt-1 space-x-2"},Xe={key:0,class:"text-xs text-green-600 font-medium"},Ye={key:1,class:"text-xs text-blue-600 font-medium"},Ze={key:0,class:"mt-6 bg-blue-50 rounded-xl p-4 border border-blue-100"},et={class:"text-blue-700"},tt={class:"flex items-center justify-between mb-8"},st=["disabled"],at={class:"bg-white rounded-2xl shadow-lg p-6"},lt={class:"grid grid-cols-5 sm:grid-cols-10 gap-2"},ot=["onClick"],it={__name:"ResultPeriodePage",setup(rt){const G=se(),q=le(),f=g(!0),b=g(null),a=g(null),d=g(0),p=g("summary"),s=y(()=>{var i,t;return((t=(i=a.value)==null?void 0:i.soals)==null?void 0:t[d.value])||null}),k=y(()=>d.value===0),C=y(()=>{var i,t;return d.value===(((t=(i=a.value)==null?void 0:i.soals)==null?void 0:t.length)||0)-1});ee(async()=>{await O()});async function O(){var i,t;f.value=!0,b.value=null;try{const c=await te.get(`/periode/user/${G.params.periodeId}/test/result`);a.value=c.data}catch(c){(t=(i=c.response)==null?void 0:i.data)!=null&&t.error?b.value=c.response.data.error:b.value="Gagal memuat hasil test",console.error(c)}finally{f.value=!1}}function j(){p.value="review",d.value=0,window.scrollTo({top:0,behavior:"smooth"})}function T(){p.value="summary",window.scrollTo({top:0,behavior:"smooth"})}function Q(){C.value||(d.value++,window.scrollTo({top:0,behavior:"smooth"}))}function U(){k.value||(d.value--,window.scrollTo({top:0,behavior:"smooth"}))}function W(i){d.value=i,window.scrollTo({top:0,behavior:"smooth"})}function B(){q.back()}function X(i){return i>=80?"text-emerald-600":i>=60?"text-blue-600":i>=40?"text-amber-600":"text-red-600"}function Y(i){return i>=80?"Sangat Baik":i>=60?"Baik":i>=40?"Cukup":"Perlu Belajar Lagi"}return(i,t)=>{var c,S,M,D,R,J,P,$,z,A,N,F,L,V,H,K,I,E;return n(),r("div",oe,[f.value?(n(),r("div",re,[...t[0]||(t[0]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-500 mx-auto mb-4"}),e("p",{class:"text-gray-500"},"Memuat hasil...")],-1)])])):b.value?(n(),r("div",ne,[e("div",ie,[t[1]||(t[1]=e("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",de,l(b.value),1),e("button",{onClick:B,class:"btn-primary"},"Kembali")])])):a.value?(n(),r(h,{key:2},[e("header",ue,[e("div",ce,[e("div",ve,[e("div",null,[e("button",{onClick:B,class:"flex items-center text-white/80 hover:text-white mb-2 transition-colors"},[...t[2]||(t[2]=[e("svg",{class:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Kembali ",-1)])]),e("h1",xe,"Hasil Test "+l(a.value.periodeName),1),e("p",be,l(a.value.isDoCheckAvailable?"Do-Check Tersedia":"Menunggu Pembahasan"),1)]),e("div",ge,[e("p",{class:v(["text-4xl font-bold",X((c=a.value.hasilTest)==null?void 0:c.skor)])},l((M=(S=a.value.hasilTest)==null?void 0:S.skor)==null?void 0:M.toFixed(0)),3),e("p",he,l(Y((D=a.value.hasilTest)==null?void 0:D.skor)),1)])])])]),p.value==="summary"?(n(),r("main",me,[e("div",pe,[t[9]||(t[9]=e("h2",{class:"text-xl font-bold text-gray-800 mb-6 text-center"},"Ringkasan Hasil",-1)),e("div",we,[e("div",fe,[e("p",ye,l((J=(R=a.value.hasilTest)==null?void 0:R.skor)==null?void 0:J.toFixed(0)),1),t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"},"Skor",-1))]),e("div",_e,[e("p",ke,l((P=a.value.hasilTest)==null?void 0:P.benar),1),t[4]||(t[4]=e("p",{class:"text-sm text-gray-500"},"Benar",-1))]),e("div",Ce,[e("p",je,l(($=a.value.hasilTest)==null?void 0:$.salah),1),t[5]||(t[5]=e("p",{class:"text-sm text-gray-500"},"Salah",-1))]),e("div",Te,[e("p",Be,l((z=a.value.hasilTest)==null?void 0:z.tidakDijawab),1),t[6]||(t[6]=e("p",{class:"text-sm text-gray-500"},"Tidak Dijawab",-1))])]),e("div",Se,[e("div",Me,[e("div",{class:"bg-green-500",style:w({width:`${((A=a.value.hasilTest)==null?void 0:A.benar)/((N=a.value.hasilTest)==null?void 0:N.totalSoal)*100}%`})},null,4),e("div",{class:"bg-red-500",style:w({width:`${((F=a.value.hasilTest)==null?void 0:F.salah)/((L=a.value.hasilTest)==null?void 0:L.totalSoal)*100}%`})},null,4),e("div",{class:"bg-gray-300",style:w({width:`${((V=a.value.hasilTest)==null?void 0:V.tidakDijawab)/((H=a.value.hasilTest)==null?void 0:H.totalSoal)*100}%`})},null,4)]),e("div",De,[e("span",null,l((K=a.value.hasilTest)==null?void 0:K.benar)+" Benar",1),e("span",null,l((I=a.value.hasilTest)==null?void 0:I.salah)+" Salah",1),e("span",null,l((E=a.value.hasilTest)==null?void 0:E.tidakDijawab)+" Tidak Dijawab",1)])]),a.value.isDoCheckAvailable?(n(),r("div",Re,[e("button",{onClick:j,class:"px-8 py-4 bg-gradient-to-r from-teal-500 to-cyan-600 text-white rounded-xl font-medium shadow-lg shadow-teal-500/30 hover:shadow-xl transition-all"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1),m(" Lihat Pembahasan ",-1)])])])):(n(),r("div",Je,[...t[8]||(t[8]=[e("div",{class:"bg-amber-50 rounded-xl p-4 inline-block"},[e("svg",{class:"w-8 h-8 text-amber-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",{class:"text-amber-700"},"Pembahasan akan tersedia setelah waktu pengerjaan berakhir")],-1)])]))]),a.value.isDoCheckAvailable?(n(),r("div",Pe,[t[10]||(t[10]=e("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Ringkasan Jawaban",-1)),e("div",$e,[(n(!0),r(h,null,_(a.value.soals,(u,o)=>(n(),r("button",{key:u.id,onClick:Z=>{j(),d.value=o},class:v(["w-10 h-10 rounded-lg flex items-center justify-center text-sm font-medium transition-all",{"bg-green-100 text-green-700 hover:bg-green-200":u.isCorrect===!0,"bg-red-100 text-red-700 hover:bg-red-200":u.isCorrect===!1,"bg-gray-100 text-gray-600 hover:bg-gray-200":u.isCorrect===null}])},l(o+1),11,ze))),128))]),t[11]||(t[11]=ae('<div class="flex items-center justify-center space-x-6 mt-4 text-sm text-gray-500"><div class="flex items-center"><span class="w-4 h-4 bg-green-100 rounded mr-2"></span> Benar </div><div class="flex items-center"><span class="w-4 h-4 bg-red-100 rounded mr-2"></span> Salah </div><div class="flex items-center"><span class="w-4 h-4 bg-gray-100 rounded mr-2"></span> Tidak Dijawab </div></div>',1))])):x("",!0)])):p.value==="review"?(n(),r(h,{key:1},[e("div",Ae,[e("div",Ne,[e("div",Fe,[e("button",{onClick:T,class:"text-sm text-teal-600 hover:text-teal-700 font-medium"}," â† Kembali ke Ringkasan "),e("span",Le," Soal "+l(d.value+1)+" dari "+l(a.value.soals.length),1)]),e("div",Ve,[e("div",{class:"bg-gradient-to-r from-teal-500 to-cyan-600 h-2 rounded-full transition-all duration-300",style:w({width:`${(d.value+1)/a.value.soals.length*100}%`})},null,4)])])]),e("main",He,[s.value?(n(),r("div",Ke,[e("div",{class:v(["px-6 py-4 border-b",{"bg-green-50 border-green-100":s.value.isCorrect===!0,"bg-red-50 border-red-100":s.value.isCorrect===!1,"bg-gray-50 border-gray-100":s.value.isCorrect===null}])},[e("div",Ie,[e("span",{class:v(["inline-block px-3 py-1 text-sm font-medium rounded-full",{"bg-green-500 text-white":s.value.isCorrect===!0,"bg-red-500 text-white":s.value.isCorrect===!1,"bg-gray-500 text-white":s.value.isCorrect===null}])}," Soal "+l(d.value+1),3),e("span",{class:v(["text-sm font-medium",{"text-green-600":s.value.isCorrect===!0,"text-red-600":s.value.isCorrect===!1,"text-gray-600":s.value.isCorrect===null}])},l(s.value.isCorrect===!0?"Benar":s.value.isCorrect===!1?"Salah":"Tidak Dijawab"),3)])],2),e("div",Ee,[e("p",Ge,l(s.value.pertanyaan),1),e("div",qe,[(n(!0),r(h,null,_({A:s.value.opsiA,B:s.value.opsiB,C:s.value.opsiC,D:s.value.opsiD},(u,o)=>(n(),r("div",{key:o,class:v(["p-4 rounded-xl border-2 transition-all",{"border-green-500 bg-green-50":o===s.value.jawabanBenar,"border-red-500 bg-red-50":s.value.userJawaban===o&&o!==s.value.jawabanBenar,"border-gray-200 bg-gray-50":o!==s.value.jawabanBenar&&s.value.userJawaban!==o}])},[e("div",Oe,[e("span",{class:v(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0",{"bg-green-500 text-white":o===s.value.jawabanBenar,"bg-red-500 text-white":s.value.userJawaban===o&&o!==s.value.jawabanBenar,"bg-gray-300 text-gray-600":o!==s.value.jawabanBenar&&s.value.userJawaban!==o}])},l(o),3),e("div",Qe,[e("span",Ue,l(u),1),e("div",We,[o===s.value.jawabanBenar?(n(),r("span",Xe," Jawaban Benar ")):x("",!0),s.value.userJawaban===o?(n(),r("span",Ye," Jawaban Anda ")):x("",!0)])])])],2))),128))]),s.value.pembahasan?(n(),r("div",Ze,[t[12]||(t[12]=e("h4",{class:"font-bold text-blue-800 mb-2 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),m(" Pembahasan ")],-1)),e("p",et,l(s.value.pembahasan),1)])):x("",!0)])])):x("",!0),e("div",tt,[e("button",{onClick:U,disabled:k.value,class:"flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transition-colors"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Sebelumnya ",-1)])],8,st),C.value?(n(),r("button",{key:0,onClick:T,class:"flex items-center px-8 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all"}," Selesai Review ")):(n(),r("button",{key:1,onClick:Q,class:"flex items-center px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all"},[...t[14]||(t[14]=[m(" Selanjutnya ",-1),e("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]))]),e("div",at,[t[15]||(t[15]=e("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Navigasi Soal",-1)),e("div",lt,[(n(!0),r(h,null,_(a.value.soals,(u,o)=>(n(),r("button",{key:u.id,onClick:Z=>W(o),class:v(["w-10 h-10 rounded-lg flex items-center justify-center text-sm font-medium transition-all",{"ring-2 ring-teal-500":o===d.value,"bg-green-100 text-green-700 hover:bg-green-200":u.isCorrect===!0,"bg-red-100 text-red-700 hover:bg-red-200":u.isCorrect===!1,"bg-gray-100 text-gray-600 hover:bg-gray-200":u.isCorrect===null}])},l(o+1),11,ot))),128))])])])],64)):x("",!0)],64)):x("",!0)])}}};export{it as default};
